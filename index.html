<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ğŸ“º Leo TV - Ù…Ù†ØµØ© IPTV Ù…ØªØ·ÙˆØ±Ø©</title>
<meta name="description" content="Leo TV - Ø£ÙØ¶Ù„ Ù…Ù†ØµØ© Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„ØªØ±ÙÙŠÙ‡ÙŠØ© Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root {
  --primary: #2563eb;
  --primary-dark: #1d4ed8;
  --secondary: #7c3aed;
  --accent: #ec4899;
  --success: #10b981;
  --warning: #f59e0b;
  --danger: #ef4444;
  --dark: #0f172a;
  --light: #f8fafc;
  --gray: #64748b;
  --gray-light: #e2e8f0;
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.12);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  --blur: blur(20px);
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  font-family: 'Cairo', sans-serif;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  color: var(--light);
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.6;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.15) 0%, transparent 40%),
    radial-gradient(circle at 90% 80%, rgba(124, 58, 237, 0.15) 0%, transparent 40%),
    radial-gradient(circle at 50% 50%, rgba(236, 72, 153, 0.1) 0%, transparent 60%);
  z-index: -2;
}

/* ========== ØªØµÙ…ÙŠÙ… Ø´ÙØ§Ù Ø²Ø¬Ø§Ø¬ÙŠ ========== */
.glass {
  background: var(--glass-bg);
  backdrop-filter: var(--blur);
  -webkit-backdrop-filter: var(--blur);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
  box-shadow: var(--glass-shadow);
}

.glass-hover:hover {
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
}

/* ========== Ø§Ù„Ù‡ÙŠØ¯Ø± ========== */
.header {
  padding: 20px 15px;
  margin-bottom: 20px;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.header::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(37, 99, 235, 0.1) 0%, transparent 70%);
  z-index: -1;
}

.logo {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  margin-bottom: 10px;
}

.logo-icon {
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
}

.logo-text {
  font-size: 2.5rem;
  font-weight: 800;
  background: linear-gradient(135deg, #fff 0%, #c7d2fe 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.tagline {
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.95rem;
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.5;
}

/* ========== Ø§Ù„Ø¨Ø­Ø« ========== */
.search-section {
  padding: 20px;
  margin-bottom: 20px;
  position: relative;
}

.search-container {
  position: relative;
}

.search-icon {
  position: absolute;
  right: 18px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(255, 255, 255, 0.6);
  font-size: 18px;
}

.search-box {
  width: 100%;
  padding: 16px 50px 16px 20px;
  background: rgba(15, 23, 42, 0.6);
  border: 2px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  font-family: 'Cairo', sans-serif;
  font-size: 16px;
  color: white;
  outline: none;
  transition: var(--transition);
}

.search-box:focus {
  background: rgba(15, 23, 42, 0.8);
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
}

.search-box::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

/* ========== Ø§Ù„Ø£Ø²Ø±Ø§Ø± ========== */
.filter-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 0 20px 20px;
  justify-content: center;
}

.filter-btn {
  padding: 10px 22px;
  background: rgba(255, 255, 255, 0.07);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  color: rgba(255, 255, 255, 0.9);
  font-family: 'Cairo', sans-serif;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  gap: 8px;
}

.filter-btn:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: translateY(-2px);
}

.filter-btn.active {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-color: transparent;
  color: white;
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

/* ========== Ø§Ù„Ù‚Ù†ÙˆØ§Øª ========== */
.channels-section {
  padding: 0 20px 20px;
}

.channels-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.channels-title {
  font-size: 1.4rem;
  font-weight: 700;
}

.channels-count {
  background: rgba(255, 255, 255, 0.1);
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 0.85rem;
}

.channels-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
}

@media (max-width: 768px) {
  .channels-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
}

@media (max-width: 480px) {
  .channels-grid {
    grid-template-columns: 1fr;
  }
}

/* ========== Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ù†Ø§Ø© ========== */
.channel-card {
  padding: 20px;
  border-radius: 16px;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.channel-card::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.05) 0%, rgba(124, 58, 237, 0.05) 100%);
  z-index: -1;
}

.channel-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
}

.channel-card.focused {
  border-color: var(--primary);
  box-shadow: 0 0 0 2px var(--primary), 0 10px 30px rgba(37, 99, 235, 0.3);
}

.channel-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.channel-logo {
  width: 60px;
  height: 60px;
  object-fit: contain;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.1);
  padding: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.channel-info {
  flex: 1;
}

.channel-name {
  font-weight: 700;
  font-size: 1.1rem;
  margin-bottom: 5px;
  color: white;
}

.channel-group {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.7);
  display: flex;
  align-items: center;
  gap: 5px;
}

/* ========== Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬ÙˆØ¯Ø© ========== */
.quality-selector {
  margin-top: 15px;
  padding-top: 15px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.quality-title {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.quality-buttons {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
}

.quality-btn {
  padding: 12px 5px;
  background: rgba(255, 255, 255, 0.07);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  color: rgba(255, 255, 255, 0.9);
  font-family: 'Cairo', sans-serif;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: var(--transition);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.quality-btn:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: translateY(-2px);
}

.quality-btn.active {
  background: var(--primary);
  border-color: transparent;
  color: white;
  box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);
}

.quality-btn.SD.active {
  background: var(--success);
}

.quality-btn.HD.active {
  background: var(--primary);
}

.quality-btn.FHD.active {
  background: var(--secondary);
}

.quality-btn .play-icon {
  margin-left: 5px;
  font-size: 0.9rem;
  transition: var(--transition);
}

.quality-btn:hover .play-icon {
  transform: scale(1.2);
}

/* ========== Ø§Ù„Ø¨Ø§Ø¯Ø¬Ø§Øª ========== */
.badges {
  position: absolute;
  top: 15px;
  left: 15px;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.badge {
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 0.7rem;
  font-weight: 700;
  display: inline-block;
}

.badge.quality {
  background: var(--primary);
  color: white;
}

.badge.live {
  background: var(--accent);
  color: white;
}

/* ========== Ø§Ù„ØªØ­ÙƒÙ… Ø¹Ù† Ø¨Ø¹Ø¯ ========== */
.remote-controls {
  position: fixed;
  bottom: 30px;
  right: 50%;
  transform: translateX(50%);
  display: none;
  gap: 15px;
  background: rgba(15, 23, 42, 0.9);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  padding: 20px;
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
  z-index: 1000;
}

.remote-controls.show {
  display: flex;
}

.remote-btn {
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 15px;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}

.remote-btn:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.remote-btn:active {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(0.95);
}

.remote-center {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

/* ========== Ø§Ù„ÙÙˆØªØ± ========== */
.footer {
  padding: 25px 20px;
  text-align: center;
  margin-top: 30px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.copyright {
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.9rem;
  margin-bottom: 10px;
}

.version {
  color: rgba(255, 255, 255, 0.5);
  font-size: 0.8rem;
}

/* ========== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª ========== */
.logo-fallback {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  font-weight: bold;
  font-size: 1.2rem;
}

/* ========== ØªØµÙ…ÙŠÙ… Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªÙ„ÙØ§Ø² ========== */
@media (min-width: 1024px) {
  .remote-controls {
    display: flex;
  }
  
  body {
    padding: 20px;
  }
  
  .container {
    max-width: 1400px;
    margin: 0 auto;
  }
}

/* ========== ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ========== */
@media (min-width: 1400px) {
  .channels-grid {
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  }
}

/* ========== ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ ========== */
@media (max-width: 480px) {
  .header {
    padding: 15px 10px;
  }
  
  .logo-text {
    font-size: 2rem;
  }
  
  .search-section, .channels-section {
    padding-left: 10px;
    padding-right: 10px;
  }
  
  .filter-buttons {
    padding-left: 10px;
    padding-right: 10px;
  }
  
  .remote-controls {
    padding: 15px;
    bottom: 20px;
  }
  
  .remote-btn {
    width: 50px;
    height: 50px;
    font-size: 1.3rem;
  }
}

/* ========== Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ ========== */
.channel-notification {
  position: fixed;
  bottom: 120px;
  right: 50%;
  transform: translateX(50%);
  background: rgba(15, 23, 42, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 15px 25px;
  color: white;
  font-weight: 600;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  z-index: 1001;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
  display: flex;
  align-items: center;
  gap: 10px;
  max-width: 90%;
}

.channel-notification.show {
  opacity: 1;
  visibility: visible;
}

.channel-notification.success {
  border-right: 4px solid var(--success);
}

.channel-notification.error {
  border-right: 4px solid var(--danger);
}

.channel-notification.info {
  border-right: 4px solid var(--primary);
}
</style>
</head>

<body>
<div class="container">
  <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
  <header class="header glass">
    <div class="logo">
      <div class="logo-icon">
        <i class="fas fa-tv"></i>
      </div>
      <h1 class="logo-text">Leo TV</h1>
    </div>
    <p class="tagline">Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø§Ù„Ø£ÙƒØ«Ø± ØªØ·ÙˆØ±Ø§Ù‹ - Ø´Ø§Ù‡Ø¯ Ù‚Ù†ÙˆØ§ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©</p>
  </header>

  <!-- Ø§Ù„Ø¨Ø­Ø« -->
  <section class="search-section glass">
    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" id="search-input" class="search-box" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ù†Ø§Ø© Ø£Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ø©...">
    </div>
  </section>

  <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØµÙÙŠØ© -->
  <div class="filter-buttons" id="filter-buttons">
    <button class="filter-btn active" data-filter="all">
      <i class="fas fa-list"></i> Ø§Ù„ÙƒÙ„
    </button>
    <button class="filter-btn" data-filter="Ø±ÙŠØ§Ø¶ÙŠ">
      <i class="fas fa-futbol"></i> Ø±ÙŠØ§Ø¶ÙŠØ©
    </button>
    <button class="filter-btn" data-filter="ØªØ±ÙÙŠÙ‡ÙŠ">
      <i class="fas fa-film"></i> ØªØ±ÙÙŠÙ‡ÙŠØ©
    </button>
    <button class="filter-btn" data-filter="Ø£Ø®Ø¨Ø§Ø±">
      <i class="fas fa-newspaper"></i> Ø£Ø®Ø¨Ø§Ø±
    </button>
    <button class="filter-btn" data-filter="Ø£Ø·ÙØ§Ù„">
      <i class="fas fa-child"></i> Ø£Ø·ÙØ§Ù„
    </button>
  </div>

  <!-- Ø§Ù„Ù‚Ù†ÙˆØ§Øª -->
  <section class="channels-section">
    <div class="channels-header">
      <h2 class="channels-title">Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
      <div class="channels-count" id="channels-count">0 Ù‚Ù†Ø§Ø©</div>
    </div>
    
    <div class="channels-grid" id="channels">
      <!-- Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
    </div>
    
    <div id="no-results" class="no-results" style="display: none;">
      <i class="fas fa-tv"></i>
      <p>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‚Ù†ÙˆØ§Øª ØªØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ</p>
    </div>
  </section>

  <!-- Ø§Ù„ÙÙˆØªØ± -->
  <footer class="footer">
    <p class="copyright">Â© 2023 Leo TV - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    <p class="version">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0 | ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø®ØµÙŠØµØ§Ù‹ Ù„ØªØ¬Ø±Ø¨Ø© Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©</p>
  </footer>
</div>

<!-- Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ -->
<div class="channel-notification" id="channel-notification">
  <i class="fas fa-info-circle"></i>
  <span id="notification-text">Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ù‚Ù†Ø§Ø©...</span>
</div>

<!-- Ø§Ù„ØªØ­ÙƒÙ… Ø¹Ù† Ø¨Ø¹Ø¯ -->
<div class="remote-controls" id="remote-controls">
  <button class="remote-btn" onclick="navigateRemote('up')">
    <i class="fas fa-chevron-up"></i>
  </button>
  
  <div class="remote-center">
    <button class="remote-btn" onclick="navigateRemote('left')">
      <i class="fas fa-chevron-left"></i>
    </button>
    <button class="remote-btn" onclick="activateCurrent()">
      <i class="fas fa-play"></i>
    </button>
    <button class="remote-btn" onclick="navigateRemote('right')">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>
  
  <button class="remote-btn" onclick="navigateRemote('down')">
    <i class="fas fa-chevron-down"></i>
  </button>
</div>

<script>
// Ù…ÙƒØªØ¨Ø© Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ù†ÙˆØ§Øª
const channelLogos = {
  "beIN SPORT 1": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
  "beIN SPORT 2": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
  "beIN SPORT 3": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
  "Ù‚Ù†Ø§Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Al_Arabiya_Logo_2016.svg/1200px-Al_Arabiya_Logo_2016.svg.png",
  "MBC 1": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/MBC_1_logo_%282021%29.png/800px-MBC_1_logo_%282021%29.png",
  "Ø±ÙˆØªØ§Ù†Ø§ Ø®Ù„ÙŠØ¬ÙŠØ©": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Rotana_Khalijia_Logo.png/800px-Rotana_Khalijia_Logo.png",
  "Ø§Ù„ÙƒØ£Ø³": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Alkass_logo.png/800px-Alkass_logo.png",
  "CNN Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/CNN_Arabic_2017_logo.svg/1200px-CNN_Arabic_2017_logo.svg.png",
  "Ø³ÙƒØ§ÙŠ Ù†ÙŠÙˆØ² Ø¹Ø±Ø¨ÙŠØ©": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Sky_News_Arabia_Logo.svg/1200px-Sky_News_Arabia_Logo.svg.png",
  "Ù‚Ù†Ø§Ø© Ù†Ø§Ø´ÙŠÙˆÙ†Ø§Ù„ Ø¬ÙŠÙˆØºØ±Ø§ÙÙŠÙƒ Ø£Ø¨ÙˆØ¸Ø¨ÙŠ": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/National_Geographic_Abu_Dhabi_logo.svg/1200px-National_Geographic_Abu_Dhabi_logo.svg.png",
  "Ù‚Ù†Ø§Ø© Ø·ÙŠÙˆØ± Ø§Ù„Ø¬Ù†Ø©": "https://i.imgur.com/v2ZQ8QK.png"
};

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ù…Ø¹ Ø±ÙˆØ§Ù‚Ø¹ Ø­Ù‚ÙŠÙ‚ÙŠØ©
const channelsData = [
  {
    name: "beIN SPORT 1",
    logo: channelLogos["beIN SPORT 1"],
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein1/bein1-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein1/bein1-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein1/bein1-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 2",
    logo: channelLogos["beIN SPORT 2"],
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein2/bein2-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein2/bein2-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein2/bein2-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 3",
    logo: channelLogos["beIN SPORT 3"],
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein3/bein3-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein3/bein3-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein3/bein3-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ù‚Ù†Ø§Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
    logo: channelLogos["Ù‚Ù†Ø§Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"],
    group: "Ø£Ø®Ø¨Ø§Ø±",
    category: "Ø£Ø®Ø¨Ø§Ø±",
    qualities: {
      "SD": "https://live.alarabiya.net/alarabiapublish/alarabiya.smil/playlist.m3u8",
      "HD": "https://live.alarabiya.net/alarabiapublish/alarabiya.smil/playlist.m3u8",
      "FHD": "https://live.alarabiya.net/alarabiapublish/alarabiya.smil/playlist.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "MBC 1",
    logo: channelLogos["MBC 1"],
    group: "ØªØ±ÙÙŠÙ‡",
    category: "ØªØ±ÙÙŠÙ‡ÙŠ",
    qualities: {
      "SD": "https://shls-mbc1-prod-dub.shahid.net/out/v1/73d3e1d29d2f4ed7a2f6b8a9f8f8f8f8/index.m3u8",
      "HD": "https://shls-mbc1-prod-dub.shahid.net/out/v1/73d3e1d29d2f4ed7a2f6b8a9f8f8f8f8/index_2.m3u8",
      "FHD": "https://shls-mbc1-prod-dub.shahid.net/out/v1/73d3e1d29d2f4ed7a2f6b8a9f8f8f8f8/index_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø±ÙˆØªØ§Ù†Ø§ Ø®Ù„ÙŠØ¬ÙŠØ©",
    logo: channelLogos["Ø±ÙˆØªØ§Ù†Ø§ Ø®Ù„ÙŠØ¬ÙŠØ©"],
    group: "ØªØ±ÙÙŠÙ‡",
    category: "ØªØ±ÙÙŠÙ‡ÙŠ",
    qualities: {
      "SD": "https://rotana-gulf.rotana.net/rotana-gulf/rotana-gulf_1.m3u8",
      "HD": "https://rotana-gulf.rotana.net/rotana-gulf/rotana-gulf_2.m3u8",
      "FHD": "https://rotana-gulf.rotana.net/rotana-gulf/rotana-gulf_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø§Ù„ÙƒØ£Ø³",
    logo: channelLogos["Ø§Ù„ÙƒØ£Ø³"],
    group: "Ø±ÙŠØ§Ø¶Ø©",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    qualities: {
      "SD": "https://alkass.alkass.net/alkass/alkass_1.m3u8",
      "HD": "https://alkass.alkass.net/alkass/alkass_2.m3u8",
      "FHD": "https://alkass.alkass.net/alkass/alkass_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "CNN Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
    logo: channelLogos["CNN Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"],
    group: "Ø£Ø®Ø¨Ø§Ø±",
    category: "Ø£Ø®Ø¨Ø§Ø±",
    qualities: {
      "SD": "https://cnn-cnninternational-1-gb.samsung.wurl.com/manifest/playlist.m3u8",
      "HD": "https://cnn-cnninternational-1-gb.samsung.wurl.com/manifest/playlist_2.m3u8",
      "FHD": "https://cnn-cnninternational-1-gb.samsung.wurl.com/manifest/playlist_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø³ÙƒØ§ÙŠ Ù†ÙŠÙˆØ² Ø¹Ø±Ø¨ÙŠØ©",
    logo: channelLogos["Ø³ÙƒØ§ÙŠ Ù†ÙŠÙˆØ² Ø¹Ø±Ø¨ÙŠØ©"],
    group: "Ø£Ø®Ø¨Ø§Ø±",
    category: "Ø£Ø®Ø¨Ø§Ø±",
    qualities: {
      "SD": "https://skynews-skynewsarabia-1-gb.samsung.wurl.com/manifest/playlist.m3u8",
      "HD": "https://skynews-skynewsarabia-1-gb.samsung.wurl.com/manifest/playlist_2.m3u8",
      "FHD": "https://skynews-skynewsarabia-1-gb.samsung.wurl.com/manifest/playlist_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ù‚Ù†Ø§Ø© Ù†Ø§Ø´ÙŠÙˆÙ†Ø§Ù„ Ø¬ÙŠÙˆØºØ±Ø§ÙÙŠÙƒ Ø£Ø¨ÙˆØ¸Ø¨ÙŠ",
    logo: channelLogos["Ù‚Ù†Ø§Ø© Ù†Ø§Ø´ÙŠÙˆÙ†Ø§Ù„ Ø¬ÙŠÙˆØºØ±Ø§ÙÙŠÙƒ Ø£Ø¨ÙˆØ¸Ø¨ÙŠ"],
    group: "ÙˆØ«Ø§Ø¦Ù‚ÙŠØ§Øª",
    category: "ØªØ±ÙÙŠÙ‡ÙŠ",
    qualities: {
      "SD": "https://ng-abudhabi.ng-abudhabi.net/ng-abudhabi/ng-abudhabi_1.m3u8",
      "HD": "https://ng-abudhabi.ng-abudhabi.net/ng-abudhabi/ng-abudhabi_2.m3u8",
      "FHD": "https://ng-abudhabi.ng-abudhabi.net/ng-abudhabi/ng-abudhabi_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ù‚Ù†Ø§Ø© Ø·ÙŠÙˆØ± Ø§Ù„Ø¬Ù†Ø©",
    logo: channelLogos["Ù‚Ù†Ø§Ø© Ø·ÙŠÙˆØ± Ø§Ù„Ø¬Ù†Ø©"],
    group: "Ø£Ø·ÙØ§Ù„",
    category: "Ø£Ø·ÙØ§Ù„",
    qualities: {
      "SD": "https://toyoraljanahtv.akamaized.net/hls/live/2024648/ToyorAlJanahTV/index.m3u8",
      "HD": "https://toyoraljanahtv.akamaized.net/hls/live/2024648/ToyorAlJanahTV/index_2.m3u8",
      "FHD": "https://toyoraljanahtv.akamaized.net/hls/live/2024648/ToyorAlJanahTV/index_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  }
];

// Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
let allChannels = [];
let filteredChannels = [];
let currentFilter = "all";
let currentFocusIndex = 0;
let channelCards = [];
let filterButtons = [];
let searchInput;
let channelsContainer;
let channelsCount;
let noResultsElement;
let remoteControls;
let selectedQualities = {};
let notification;

// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
function initApp() {
  searchInput = document.getElementById('search-input');
  channelsContainer = document.getElementById('channels');
  channelsCount = document.getElementById('channels-count');
  noResultsElement = document.getElementById('no-results');
  remoteControls = document.getElementById('remote-controls');
  notification = document.getElementById('channel-notification');
  
  loadChannels();
  setupEventListeners();
  updateChannelsCount();
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø¹Ù† Ø¨Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
  if (window.innerWidth >= 1024) {
    remoteControls.classList.add('show');
  }
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ù†ÙˆØ§Øª
function loadChannels() {
  allChannels = channelsData;
  filteredChannels = [...allChannels];
  
  // ØªØ¹ÙŠÙŠÙ† Ø¬ÙˆØ¯Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„ÙƒÙ„ Ù‚Ù†Ø§Ø© (HD)
  allChannels.forEach(channel => {
    selectedQualities[channel.name] = "HD";
  });
  
  displayChannels(filteredChannels);
  setupRemoteNavigation();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª
function displayChannels(channels) {
  channelsContainer.innerHTML = "";
  
  if (channels.length === 0) {
    noResultsElement.style.display = "block";
    return;
  }
  
  noResultsElement.style.display = "none";
  
  const groupedChannels = {};
  channels.forEach(ch => {
    if (!groupedChannels[ch.group]) {
      groupedChannels[ch.group] = [];
    }
    groupedChannels[ch.group].push(ch);
  });
  
  for (const group in groupedChannels) {
    const groupChannels = groupedChannels[group];
    
    groupChannels.forEach(ch => {
      const card = document.createElement("div");
      card.className = "channel-card glass glass-hover";
      card.tabIndex = 0;
      card.dataset.channelName = ch.name;
      
      // Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ù†Ø§Ø©
      const selectedQuality = selectedQualities[ch.name] || "HD";
      
      card.innerHTML = `
        <div class="badges">
          <span class="badge quality">${selectedQuality}</span>
          <span class="badge live">LIVE</span>
        </div>
        
        <div class="channel-header">
          ${ch.logo && ch.logo.startsWith('http') ? 
            `<img src="${ch.logo}" alt="${ch.name}" class="channel-logo" onerror="this.onerror=null; this.src='https://via.placeholder.com/60x60/1e293b/ffffff?text=${ch.name.substring(0,2)}';">` :
            `<div class="logo-fallback">${ch.name.substring(0,2)}</div>`
          }
          <div class="channel-info">
            <div class="channel-name">${ch.name}</div>
            <div class="channel-group">
              <i class="fas fa-layer-group"></i> ${ch.group}
              <span style="margin: 0 5px">â€¢</span>
              <i class="fas fa-server"></i> ${ch.server}
            </div>
          </div>
        </div>
        
        <div class="quality-selector">
          <div class="quality-title">
            <i class="fas fa-tachometer-alt"></i> Ø§Ø®ØªØ± Ø¬ÙˆØ¯Ø© Ø§Ù„Ø¨Ø«:
          </div>
          <div class="quality-buttons">
            <button class="quality-btn SD ${selectedQuality === 'SD' ? 'active' : ''}" data-quality="SD" onclick="playChannelQuality('${ch.name}', 'SD')">
              <i class="fas fa-play-circle play-icon"></i> SD
            </button>
            <button class="quality-btn HD ${selectedQuality === 'HD' ? 'active' : ''}" data-quality="HD" onclick="playChannelQuality('${ch.name}', 'HD')">
              <i class="fas fa-play-circle play-icon"></i> HD
            </button>
            <button class="quality-btn FHD ${selectedQuality === 'FHD' ? 'active' : ''}" data-quality="FHD" onclick="playChannelQuality('${ch.name}', 'FHD')">
              <i class="fas fa-play-circle play-icon"></i> FHD
            </button>
          </div>
        </div>
      `;
      
      // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù†Ø§Ø© (Ù„Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©)
      card.addEventListener('click', (e) => {
        if (!e.target.classList.contains('quality-btn')) {
          const channelName = card.dataset.channelName;
          const quality = selectedQualities[channelName] || "HD";
          playChannelQuality(channelName, quality);
        }
      });
      
      channelsContainer.appendChild(card);
    });
  }
  
  setupRemoteNavigation();
  updateChannelsCount();
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
function playChannelQuality(channelName, quality) {
  const channel = allChannels.find(ch => ch.name === channelName);
  
  if (!channel) {
    showNotification(`Ø§Ù„Ù‚Ù†Ø§Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©: ${channelName}`, 'error');
    return;
  }
  
  const url = channel.qualities[quality];
  
  if (url && url.startsWith('http')) {
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    selectedQualities[channelName] = quality;
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø±Ø¦ÙŠØ©
    const card = document.querySelector(`[data-channel-name="${channelName}"]`);
    if (card) {
      const qualityBadge = card.querySelector('.badge.quality');
      const qualityButtons = card.querySelectorAll('.quality-btn');
      
      if (qualityBadge) qualityBadge.textContent = quality;
      
      qualityButtons.forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.quality === quality) {
          btn.classList.add('active');
        }
      });
    }
    
    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø©
    showNotification(`Ø¬Ø§Ø±ÙŠ ÙØªØ­ ${channelName} Ø¨Ø¬ÙˆØ¯Ø© ${quality}...`, 'info');
    
    // ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ù‚ØµÙŠØ±
    setTimeout(() => {
      try {
        // Ù…Ø­Ø§ÙˆÙ„Ø© ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
        const newWindow = window.open('', '_blank');
        
        if (newWindow) {
          // Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ø¨Ø«
          newWindow.document.write(`
            <!DOCTYPE html>
            <html dir="rtl">
            <head>
              <title>${channelName} - ${quality} - Leo TV</title>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <style>
                body {
                  margin: 0;
                  padding: 0;
                  background: #000;
                  font-family: 'Cairo', sans-serif;
                  color: white;
                  overflow: hidden;
                }
                .player-container {
                  width: 100vw;
                  height: 100vh;
                  display: flex;
                  flex-direction: column;
                }
                .player-header {
                  background: rgba(0, 0, 0, 0.8);
                  padding: 15px;
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                }
                .channel-info {
                  display: flex;
                  align-items: center;
                  gap: 15px;
                }
                .channel-name {
                  font-size: 1.2rem;
                  font-weight: bold;
                }
                .quality-badge {
                  background: #2563eb;
                  padding: 5px 10px;
                  border-radius: 20px;
                  font-size: 0.8rem;
                }
                .close-btn {
                  background: rgba(255, 255, 255, 0.1);
                  border: none;
                  color: white;
                  padding: 10px 20px;
                  border-radius: 10px;
                  cursor: pointer;
                  font-family: inherit;
                }
                .close-btn:hover {
                  background: rgba(255, 255, 255, 0.2);
                }
                .video-container {
                  flex: 1;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  background: #000;
                }
                .loading {
                  text-align: center;
                }
                .loading-spinner {
                  width: 50px;
                  height: 50px;
                  border: 4px solid rgba(255, 255, 255, 0.1);
                  border-top: 4px solid #2563eb;
                  border-radius: 50%;
                  animation: spin 1s linear infinite;
                  margin: 0 auto 20px;
                }
                @keyframes spin {
                  to { transform: rotate(360deg); }
                }
                .m3u8-link {
                  margin-top: 20px;
                  padding: 15px;
                  background: rgba(255, 255, 255, 0.05);
                  border-radius: 10px;
                  word-break: break-all;
                  font-size: 0.9rem;
                  direction: ltr;
                }
              </style>
            </head>
            <body>
              <div class="player-container">
                <div class="player-header">
                  <div class="channel-info">
                    <div class="channel-name">${channelName}</div>
                    <div class="quality-badge">${quality}</div>
                  </div>
                  <button class="close-btn" onclick="window.close()">Ø¥ØºÙ„Ø§Ù‚</button>
                </div>
                <div class="video-container">
                  <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±...</p>
                    <div class="m3u8-link">Ø±Ø§Ø¨Ø· Ø§Ù„Ø¨Ø«: ${url}</div>
                    <p style="margin-top: 20px; color: #999; font-size: 0.9rem;">
                      Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø§Ù„ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ø®Ø§Ø±Ø¬ÙŠ Ù„Ø¯Ø¹Ù… ØªÙ†Ø³ÙŠÙ‚ m3u8
                    </p>
                  </div>
                </div>
              </div>
              <script>
                // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…ØªØµÙØ­ ÙŠØ¯Ø¹Ù…Ù‡
                setTimeout(() => {
                  try {
                    // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± ÙÙŠØ¯ÙŠÙˆ
                    const video = document.createElement('video');
                    video.controls = true;
                    video.autoplay = true;
                    video.style.width = '100%';
                    video.style.height = '100%';
                    
                    // Ø¥Ø¶Ø§ÙØ© Ù…ØµØ¯Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                    const source = document.createElement('source');
                    source.src = '${url}';
                    source.type = 'application/x-mpegURL';
                    
                    video.appendChild(source);
                    
                    // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                    const videoContainer = document.querySelector('.video-container');
                    videoContainer.innerHTML = '';
                    videoContainer.appendChild(video);
                    
                    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
                    video.play().catch(e => {
                      console.log('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ:', e);
                      videoContainer.innerHTML = \`
                        <div style="text-align: center; padding: 20px;">
                          <h3>ØªØ¹Ø°Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</h3>
                          <p>ÙŠÙ…ÙƒÙ†Ùƒ:</p>
                          <p>1. Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ø¯Ù†Ø§Ù‡ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ IPTV</p>
                          <p>2. ØªØ«Ø¨ÙŠØª Ø¥Ø¶Ø§ÙØ© HLS Player Ù„Ù…ØªØµÙØ­Ùƒ</p>
                          <div class="m3u8-link">\${'${url}'}</div>
                          <button onclick="window.open('${url}', '_blank')" style="background: #2563eb; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; margin-top: 20px; font-family: inherit;">
                            ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
                          </button>
                        </div>
                      \`;
                    });
                  } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:', error);
                  }
                }, 1000);
              <\/script>
            </body>
            </html>
          `);
          
          newWindow.focus();
          showNotification(`ØªÙ… ÙØªØ­ ${channelName} ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©`, 'success');
        } else {
          // Ø¥Ø°Ø§ ØªÙ… Ù…Ù†Ø¹ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©ØŒ Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø§Ø¨Ø·
          showNotification(`ØªÙ… Ù…Ù†Ø¹ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·: ${url}`, 'error');
          
          // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
          const linkText = `Ø±Ø§Ø¨Ø· ${channelName} (${quality}): ${url}`;
          if (navigator.clipboard) {
            navigator.clipboard.writeText(url).then(() => {
              showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©', 'success');
            });
          }
          
          // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ ØªÙ†Ø¨ÙŠÙ‡
          setTimeout(() => {
            if (confirm(`ØªÙ… Ù…Ù†Ø¹ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©.\n\nØ±Ø§Ø¨Ø· Ø§Ù„Ø¨Ø«:\n${url}\n\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·ØŸ`)) {
              if (navigator.clipboard) {
                navigator.clipboard.writeText(url);
                showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©', 'success');
              }
            }
          }, 500);
        }
      } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø·:', error);
        showNotification(`Ø®Ø·Ø£ ÙÙŠ ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø·: ${error.message}`, 'error');
      }
    }, 1000);
  } else {
    showNotification(`Ø±Ø§Ø¨Ø· Ø§Ù„Ø¨Ø« ØºÙŠØ± Ù…ØªØ§Ø­ Ù„Ù€ ${channelName}`, 'error');
  }
}

// Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡
function showNotification(message, type = 'info') {
  const notification = document.getElementById('channel-notification');
  const textElement = document.getElementById('notification-text');
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ù„ÙˆÙ†
  textElement.textContent = message;
  notification.className = `channel-notification ${type}`;
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø©
  notification.classList.add('show');
  
  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
  setTimeout(() => {
    notification.classList.remove('show');
  }, 3000);
}

// ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ù†ÙˆØ§Øª
function updateChannelsCount() {
  const count = channelsContainer.querySelectorAll('.channel-card').length;
  channelsCount.textContent = `${count} Ù‚Ù†Ø§Ø©`;
}

// Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨Ø§Ù„Ø£Ø²Ø±Ø§Ø±
function setupRemoteNavigation() {
  channelCards = Array.from(document.querySelectorAll('.channel-card'));
  
  if (channelCards.length === 0) return;
  
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
  channelCards.forEach(card => card.classList.remove('focused'));
  
  // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ±ÙƒÙŠØ² Ù„Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
  if (channelCards.length > 0) {
    currentFocusIndex = 0;
    channelCards[currentFocusIndex].classList.add('focused');
    channelCards[currentFocusIndex].focus();
  }
}

// Ø§Ù„ØªÙ†Ù‚Ù„ Ø¹Ù† Ø¨Ø¹Ø¯
function navigateRemote(direction) {
  if (channelCards.length === 0) return;
  
  const oldIndex = currentFocusIndex;
  let newIndex = currentFocusIndex;
  
  // Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø­Ø³Ø¨ Ø­Ø¬Ù… Ø§Ù„Ø´Ø§Ø´Ø©
  const columns = window.innerWidth >= 1400 ? 3 : window.innerWidth >= 768 ? 2 : 1;
  
  switch(direction) {
    case 'up':
      newIndex = Math.max(0, currentFocusIndex - columns);
      break;
    case 'down':
      newIndex = Math.min(channelCards.length - 1, currentFocusIndex + columns);
      break;
    case 'left':
      newIndex = Math.max(0, currentFocusIndex - 1);
      break;
    case 'right':
      newIndex = Math.min(channelCards.length - 1, currentFocusIndex + 1);
      break;
  }
  
  if (newIndex !== oldIndex) {
    channelCards[oldIndex].classList.remove('focused');
    channelCards[newIndex].classList.add('focused');
    channelCards[newIndex].focus();
    currentFocusIndex = newIndex;
    
    // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
    channelCards[newIndex].scrollIntoView({
      behavior: 'smooth',
      block: 'center'
    });
  }
}

// ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
function activateCurrent() {
  if (channelCards.length > 0) {
    const channelName = channelCards[currentFocusIndex].dataset.channelName;
    const quality = selectedQualities[channelName] || "HD";
    playChannelQuality(channelName, quality);
  }
}

// ØªØµÙÙŠØ© Ø§Ù„Ù‚Ù†ÙˆØ§Øª
function filterChannels(category) {
  currentFilter = category;
  
  // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  filterButtons.forEach(btn => {
    btn.classList.remove('active');
    if (btn.dataset.filter === category) {
      btn.classList.add('active');
    }
  });
  
  // ØªØµÙÙŠØ© Ø§Ù„Ù‚Ù†ÙˆØ§Øª
  if (category === "all") {
    filteredChannels = [...allChannels];
  } else {
    filteredChannels = allChannels.filter(ch => ch.category === category);
  }
  
  // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø£ÙŠØ¶Ù‹Ø§
  applySearch();
}

// ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø«
function applySearch() {
  const searchTerm = searchInput.value.trim().toLowerCase();
  
  if (searchTerm === '') {
    displayChannels(filteredChannels);
  } else {
    const searchResults = filteredChannels.filter(channel => 
      channel.name.toLowerCase().includes(searchTerm) || 
      channel.group.toLowerCase().includes(searchTerm) ||
      channel.category.toLowerCase().includes(searchTerm)
    );
    displayChannels(searchResults);
  }
  
  updateChannelsCount();
}

// Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
function setupEventListeners() {
  // Ø§Ù„Ø¨Ø­Ø«
  searchInput.addEventListener('input', applySearch);
  
  // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø­Ø«
  searchInput.addEventListener('focus', () => {
    channelCards.forEach(card => card.classList.remove('focused'));
  });
  
  // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
  document.addEventListener('keydown', function(e) {
    // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙƒØªØ¨ ÙÙŠ Ø§Ù„Ø¨Ø­Ø«
    if (document.activeElement === searchInput) return;
    
    switch(e.key) {
      case 'ArrowUp':
        e.preventDefault();
        navigateRemote('up');
        break;
      case 'ArrowDown':
        e.preventDefault();
        navigateRemote('down');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        navigateRemote('left');
        break;
      case 'ArrowRight':
        e.preventDefault();
        navigateRemote('right');
        break;
      case 'Enter':
        e.preventDefault();
        activateCurrent();
        break;
      case 'Escape':
        searchInput.focus();
        break;
    }
  });
  
  // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­ÙƒÙ… Ø¹Ù† Ø¨Ø¹Ø¯ Ø­Ø³Ø¨ Ø­Ø¬Ù… Ø§Ù„Ø´Ø§Ø´Ø©
  window.addEventListener('resize', () => {
    if (window.innerWidth >= 1024) {
      remoteControls.classList.add('show');
    } else {
      remoteControls.classList.remove('show');
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ†Ù‚Ù„
    setupRemoteNavigation();
  });
  
  // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØµÙÙŠØ©
  filterButtons = Array.from(document.querySelectorAll('.filter-btn'));
  filterButtons.forEach(btn => {
    btn.addEventListener('click', function() {
      filterChannels(this.dataset.filter);
    });
  });
}

// Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.addEventListener('DOMContentLoaded', initApp);
</script>
</body>
</html>
