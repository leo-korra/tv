<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Leo TV - Ø´Ø§Ù‡Ø¯ Ù…Ø¨Ø§Ø´Ø±Ø©</title>

<!-- Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Cairo', sans-serif;
  background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
  color: white;
  min-height: 100vh;
  padding: 15px;
}

/* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
.container {
  max-width: 1400px;
  margin: 0 auto;
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
.header {
  text-align: center;
  margin-bottom: 25px;
  padding: 20px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}

.header h1 {
  font-size: 2.8rem;
  margin-bottom: 10px;
  background: linear-gradient(45deg, #FF416C, #FF4B2B);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 2px 10px rgba(255, 65, 108, 0.3);
}

.header p {
  color: rgba(255, 255, 255, 0.8);
  font-size: 1.2rem;
}

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù‚Ù†ÙˆØ§Øª */
.channels-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.channel-card {
  background: rgba(255, 255, 255, 0.07);
  border-radius: 18px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid transparent;
  position: relative;
  overflow: hidden;
}

.channel-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: #FF416C;
  box-shadow: 0 15px 35px rgba(255, 65, 108, 0.2);
}

.channel-card::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 5px;
  background: linear-gradient(90deg, #FF416C, #FF4B2B);
}

.channel-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.channel-logo {
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  flex-shrink: 0;
}

.channel-logo img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  border-radius: 8px;
}

.channel-info h3 {
  font-size: 1.3rem;
  margin-bottom: 5px;
  color: white;
}

.channel-meta {
  display: flex;
  gap: 10px;
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.7);
}

.quality-badge {
  background: rgba(76, 175, 80, 0.2);
  color: #4CAF50;
  padding: 3px 12px;
  border-radius: 20px;
  font-weight: 600;
}

.live-badge {
  background: rgba(244, 67, 54, 0.2);
  color: #F44336;
  padding: 3px 12px;
  border-radius: 20px;
  font-weight: 600;
}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª */
.servers-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
  margin-top: 15px;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s ease;
}

.servers-container.show {
  max-height: 500px;
}

.server-btn {
  background: rgba(255, 255, 255, 0.08);
  border: 2px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 15px;
  color: white;
  font-family: 'Cairo', sans-serif;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.server-btn:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: #FF416C;
  transform: translateY(-3px);
}

.server-btn.playing {
  background: rgba(76, 175, 80, 0.2);
  border-color: #4CAF50;
  box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
}

.server-btn i {
  font-size: 1.5rem;
  margin-bottom: 5px;
}

.server-quality {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.7);
  background: rgba(0, 0, 0, 0.3);
  padding: 2px 8px;
  border-radius: 10px;
}

.server-speed {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.5);
}

/* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« */
.search-box {
  width: 100%;
  max-width: 600px;
  margin: 25px auto;
  position: relative;
}

.search-input {
  width: 100%;
  padding: 16px 50px 16px 20px;
  background: rgba(255, 255, 255, 0.08);
  border: 2px solid rgba(255, 255, 255, 0.15);
  border-radius: 15px;
  color: white;
  font-size: 1.1rem;
  font-family: 'Cairo', sans-serif;
  transition: all 0.3s;
}

.search-input:focus {
  outline: none;
  background: rgba(255, 255, 255, 0.12);
  border-color: #FF416C;
  box-shadow: 0 0 20px rgba(255, 65, 108, 0.3);
}

.search-icon {
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(255, 255, 255, 0.5);
  font-size: 1.2rem;
}

/* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
.stats-bar {
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 15px;
  font-size: 0.95rem;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

.stat-item i {
  color: #FF416C;
}

/* Ø§Ù„ÙÙˆØªØ± */
.footer {
  text-align: center;
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.9rem;
}

/* Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø´ØºÙ„ */
.video-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  z-index: 1000;
  padding: 20px;
}

.video-container {
  max-width: 1200px;
  margin: 0 auto;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.video-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 0;
  margin-bottom: 15px;
}

.video-title {
  font-size: 1.4rem;
  font-weight: 600;
}

.video-controls {
  display: flex;
  gap: 10px;
}

.control-btn {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: white;
  padding: 10px 20px;
  border-radius: 10px;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s;
}

.control-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

.video-player {
  flex: 1;
  background: #000;
  border-radius: 15px;
  overflow: hidden;
  position: relative;
}

#video-element {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.video-loading {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  display: none;
}

.loading-spinner {
  width: 60px;
  height: 60px;
  border: 4px solid rgba(255, 255, 255, 0.1);
  border-top: 4px solid #FF416C;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Ù…ØªØ¬Ø§ÙˆØ¨ */
@media (max-width: 768px) {
  .channels-container {
    grid-template-columns: 1fr;
  }
  
  .header h1 {
    font-size: 2rem;
  }
  
  .servers-container {
    grid-template-columns: 1fr;
  }
}
</style>
</head>

<body>
<div class="container">
  <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
  <header class="header">
    <h1><i class="fas fa-satellite-dish"></i> Leo TV</h1>
    <p>Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© - Ø§Ø®ØªØ± Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ø³Ø±Ø¹</p>
    <div class="stats-bar">
      <div class="stat-item">
        <i class="fas fa-tv"></i>
        <span>Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©: <strong id="active-channels">9</strong></span>
      </div>
      <div class="stat-item">
        <i class="fas fa-users"></i>
        <span>Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙˆÙ† Ø§Ù„Ø¢Ù†: <strong id="current-viewers">2,480</strong></span>
      </div>
      <div class="stat-item">
        <i class="fas fa-bolt"></i>
        <span>Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª: <strong id="total-servers">36</strong></span>
      </div>
    </div>
  </header>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« -->
  <div class="search-box">
    <input type="text" class="search-input" id="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ù†Ø§Ø©...">
    <div class="search-icon">
      <i class="fas fa-search"></i>
    </div>
  </div>

  <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª -->
  <div id="channels-list" class="channels-container">
    <!-- Ø§Ù„Ù‚Ù†ÙˆØ§Øª ØªØ¶Ø§Ù Ù‡Ù†Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
  </div>

  <!-- Ø§Ù„ÙÙˆØªØ± -->
  <footer class="footer">
    <p>Â© 2024 Leo TV - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    <p style="margin-top: 8px;">
      <i class="fas fa-shield-alt"></i> Ø¢Ù…Ù† â€¢ 
      <i class="fas fa-rocket"></i> Ø³Ø±ÙŠØ¹ â€¢ 
      <i class="fas fa-heart"></i> Ù…Ø¬Ø§Ù†ÙŠ
    </p>
  </footer>
</div>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ -->
<div class="video-overlay" id="video-overlay">
  <div class="video-container">
    <div class="video-header">
      <div class="video-title" id="video-title">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
      <div class="video-controls">
        <button class="control-btn" onclick="toggleFullscreen()">
          <i class="fas fa-expand"></i> Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©
        </button>
        <button class="control-btn" onclick="closeVideo()">
          <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚
        </button>
      </div>
    </div>
    
    <div class="video-player">
      <video id="video-element" controls autoplay playsinline></video>
      <div class="video-loading" id="video-loading">
        <div class="loading-spinner"></div>
        <div style="margin-top: 15px; font-size: 1.1rem;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø«...</div>
        <div style="margin-top: 10px; font-size: 0.9rem; color: #aaa;" id="loading-info"></div>
      </div>
    </div>
    
    <div style="padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin-top: 15px;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
          <strong>Ø§Ù„Ø³ÙŠØ±ÙØ±:</strong> <span id="current-server">ØºÙŠØ± Ù…Ø­Ø¯Ø¯</span>
        </div>
        <div>
          <button class="control-btn" onclick="tryAnotherServer()" style="background: rgba(255,65,108,0.2);">
            <i class="fas fa-sync-alt"></i> ØªØ¬Ø±Ø¨Ø© Ø³ÙŠØ±ÙØ± Ø¢Ø®Ø±
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// ============================================
// Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ù…Ø¹ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
// ============================================
const channelsDatabase = [
  {
    id: 1,
    name: "beIN SPORT 1",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s1-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein1-usa",
        quality: "FHD 1080p",
        speed: "Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹",
        ping: "65ms",
        backupUrl: "https://tinyurl.com/bein1-backup"
      },
      {
        id: "s1-2",
        name: "ğŸ‡©ğŸ‡ª Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ",
        url: "https://bit.ly/bein1-germany",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "85ms",
        backupUrl: "https://tinyurl.com/bein1-backup2"
      },
      {
        id: "s1-3",
        name: "ğŸ‡¸ğŸ‡¬ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¢Ø³ÙŠÙˆÙŠ",
        url: "https://bit.ly/bein1-asia",
        quality: "HD 720p",
        speed: "Ù…ØªÙˆØ³Ø·",
        ping: "120ms"
      },
      {
        id: "s1-4",
        name: "ğŸ‡¹ğŸ‡· Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„ØªØ±ÙƒÙŠ",
        url: "https://bit.ly/bein1-turkey",
        quality: "SD 480p",
        speed: "Ù…Ø³ØªÙ‚Ø±",
        ping: "95ms"
      }
    ],
    viewers: 1250,
    isLive: true,
    bitrate: "Ø¹Ø§Ù„ÙŠØ©"
  },
  {
    id: 2,
    name: "beIN SPORT 2",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s2-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein2-usa",
        quality: "FHD 1080p",
        speed: "Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹",
        ping: "70ms"
      },
      {
        id: "s2-2",
        name: "ğŸ‡©ğŸ‡ª Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ",
        url: "https://bit.ly/bein2-germany",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "90ms"
      },
      {
        id: "s2-3",
        name: "ğŸ‡¸ğŸ‡¬ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¢Ø³ÙŠÙˆÙŠ",
        url: "https://bit.ly/bein2-asia",
        quality: "HD 720p",
        speed: "Ù…ØªÙˆØ³Ø·",
        ping: "130ms"
      }
    ],
    viewers: 980,
    isLive: true,
    bitrate: "Ø¹Ø§Ù„ÙŠØ©"
  },
  {
    id: 3,
    name: "beIN SPORT 3",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s3-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein3-usa",
        quality: "FHD 1080p",
        speed: "Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹",
        ping: "68ms"
      },
      {
        id: "s3-2",
        name: "ğŸ‡©ğŸ‡ª Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ",
        url: "https://bit.ly/bein3-germany",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "88ms"
      }
    ],
    viewers: 850,
    isLive: true,
    bitrate: "Ø¹Ø§Ù„ÙŠØ©"
  },
  {
    id: 4,
    name: "beIN SPORT 4",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s4-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein4-usa",
        quality: "FHD 1080p",
        speed: "Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹",
        ping: "72ms"
      },
      {
        id: "s4-2",
        name: "ğŸ‡©ğŸ‡ª Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ",
        url: "https://bit.ly/bein4-germany",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "92ms"
      }
    ],
    viewers: 720,
    isLive: true,
    bitrate: "Ø¹Ø§Ù„ÙŠØ©"
  },
  {
    id: 5,
    name: "beIN SPORT 5",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s5-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein5-usa",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "75ms"
      },
      {
        id: "s5-2",
        name: "ğŸ‡©ğŸ‡ª Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ",
        url: "https://bit.ly/bein5-germany",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "94ms"
      }
    ],
    viewers: 650,
    isLive: true,
    bitrate: "Ù…ØªÙˆØ³Ø·Ø©"
  },
  {
    id: 6,
    name: "beIN SPORT 6",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s6-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein6-usa",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "78ms"
      },
      {
        id: "s6-2",
        name: "ğŸ‡©ğŸ‡ª Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ",
        url: "https://bit.ly/bein6-germany",
        quality: "SD 480p",
        speed: "Ù…Ø³ØªÙ‚Ø±",
        ping: "100ms"
      }
    ],
    viewers: 590,
    isLive: true,
    bitrate: "Ù…ØªÙˆØ³Ø·Ø©"
  },
  {
    id: 7,
    name: "beIN SPORT 7",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s7-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein7-usa",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "80ms"
      }
    ],
    viewers: 520,
    isLive: true,
    bitrate: "Ù…ØªÙˆØ³Ø·Ø©"
  },
  {
    id: 8,
    name: "beIN SPORT 8",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s8-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein8-usa",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "82ms"
      }
    ],
    viewers: 480,
    isLive: true,
    bitrate: "Ù…ØªÙˆØ³Ø·Ø©"
  },
  {
    id: 9,
    name: "beIN SPORT 9",
    logo: "https://i.ibb.co/4tz1Z2L/bein1.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    servers: [
      {
        id: "s9-1",
        name: "ğŸ‡ºğŸ‡¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ",
        url: "https://bit.ly/bein9-usa",
        quality: "HD 720p",
        speed: "Ø³Ø±ÙŠØ¹",
        ping: "85ms"
      }
    ],
    viewers: 430,
    isLive: true,
    bitrate: "Ù…ØªÙˆØ³Ø·Ø©"
  }
];

// ============================================
// Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
// ============================================
let currentChannel = null;
let currentServer = null;
let currentVideo = null;
let openedChannelId = null;

// ============================================
// Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª
// ============================================
function renderChannels(channels) {
  const container = document.getElementById('channels-list');
  container.innerHTML = '';
  
  let totalServers = 0;
  
  channels.forEach(channel => {
    totalServers += channel.servers.length;
    
    const card = document.createElement('div');
    card.className = 'channel-card';
    card.dataset.channelId = channel.id;
    
    card.innerHTML = `
      <div class="channel-header">
        <div class="channel-logo">
          <img src="${channel.logo}" alt="${channel.name}" 
               onerror="this.onerror=null; this.src='https://ui-avatars.com/api/?name=${channel.name}&background=FF416C&color=fff&size=80'">
        </div>
        <div class="channel-info">
          <h3>${channel.name}</h3>
          <div class="channel-meta">
            <span class="quality-badge">${channel.bitrate}</span>
            <span class="live-badge">
              <i class="fas fa-circle" style="font-size:8px;"></i> Ù…Ø¨Ø§Ø´Ø±
            </span>
            <span style="color:#aaa; font-size:0.8rem;">
              <i class="fas fa-eye"></i> ${channel.viewers.toLocaleString()}
            </span>
          </div>
        </div>
      </div>
      
      <div class="servers-container" id="servers-${channel.id}">
        ${channel.servers.map(server => `
          <button class="server-btn" onclick="playStream('${channel.id}', '${server.id}')" 
                  data-server-id="${server.id}">
            <i class="fas fa-server"></i>
            <div style="font-weight:600;">${server.name}</div>
            <div class="server-quality">${server.quality}</div>
            <div class="server-speed">${server.speed} â€¢ ${server.ping}</div>
          </button>
        `).join('')}
      </div>
      
      <div style="text-align:center; margin-top:10px; font-size:0.9rem; color:#aaa;">
        <i class="fas fa-chevron-down"></i> ${channel.servers.length} Ø³ÙŠØ±ÙØ± Ù…ØªØ§Ø­
      </div>
    `;
    
    // Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
    card.addEventListener('click', function(e) {
      if (!e.target.closest('.server-btn')) {
        toggleServers(channel.id);
      }
    });
    
    container.appendChild(card);
  });
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  document.getElementById('active-channels').textContent = channels.length;
  document.getElementById('total-servers').textContent = totalServers;
  updateViewersCount();
}

// ============================================
// Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
// ============================================
function toggleServers(channelId) {
  const serversContainer = document.getElementById(`servers-${channelId}`);
  const allContainers = document.querySelectorAll('.servers-container');
  
  // Ø¥ØºÙ„Ø§Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
  allContainers.forEach(container => {
    if (container.id !== `servers-${channelId}`) {
      container.classList.remove('show');
    }
  });
  
  // ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
  serversContainer.classList.toggle('show');
  openedChannelId = serversContainer.classList.contains('show') ? channelId : null;
}

// ============================================
// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø«
// ============================================
function playStream(channelId, serverId) {
  // Ø¥ØºÙ„Ø§Ù‚ Ø¬Ù…ÙŠØ¹ Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
  document.querySelectorAll('.servers-container').forEach(container => {
    container.classList.remove('show');
  });
  
  // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù†Ø§Ø© ÙˆØ§Ù„Ø³ÙŠØ±ÙØ±
  const channel = channelsDatabase.find(c => c.id == channelId);
  const server = channel.servers.find(s => s.id === serverId);
  
  if (!channel || !server) return;
  
  // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
  currentChannel = channel;
  currentServer = server;
  
  // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  document.querySelectorAll('.server-btn').forEach(btn => {
    btn.classList.remove('playing');
    if (btn.dataset.serverId === serverId) {
      btn.classList.add('playing');
    }
  });
  
  // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  showVideoPlayer(channel, server);
}

// ============================================
// Ø¹Ø±Ø¶ Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
// ============================================
function showVideoPlayer(channel, server) {
  const videoOverlay = document.getElementById('video-overlay');
  const videoTitle = document.getElementById('video-title');
  const currentServerSpan = document.getElementById('current-server');
  const videoElement = document.getElementById('video-element');
  const loadingElement = document.getElementById('video-loading');
  const loadingInfo = document.getElementById('loading-info');
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
  videoTitle.textContent = `${channel.name} - ${server.name}`;
  currentServerSpan.textContent = `${server.name} (${server.quality})`;
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  videoOverlay.style.display = 'block';
  
  // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
  loadingElement.style.display = 'flex';
  loadingInfo.textContent = `Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±... (${server.speed})`;
  
  // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø®ØªØµØ± (Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ)
  const streamUrl = server.url; // Ù‡Ø°Ø§ Ø±Ø§Ø¨Ø· Ù…Ø®ØªØµØ± Ù„Ù€ HTTPS
  
  // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  videoElement.src = streamUrl;
  videoElement.load();
  
  // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  videoElement.onloadeddata = function() {
    loadingElement.style.display = 'none';
    videoElement.play().catch(e => {
      console.log('Auto-play prevented:', e);
    });
  };
  
  videoElement.onerror = function() {
    // ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
    if (server.backupUrl) {
      loadingInfo.textContent = 'Ø¬Ø±Ø¨Ù†Ø§ Ø³ÙŠØ±ÙØ±Ø§Ù‹ Ø§Ø­ØªÙŠØ§Ø·ÙŠØ§Ù‹...';
      videoElement.src = server.backupUrl;
      videoElement.load();
    } else {
      loadingInfo.textContent = 'âŒ ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„. Ø¬Ø±Ø¨ Ø³ÙŠØ±ÙØ±Ø§Ù‹ Ø¢Ø®Ø±.';
      setTimeout(() => {
        loadingElement.style.display = 'none';
      }, 3000);
    }
  };
  
  videoElement.onwaiting = function() {
    loadingElement.style.display = 'flex';
    loadingInfo.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
  };
  
  videoElement.onplaying = function() {
    loadingElement.style.display = 'none';
  };
  
  // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ†
  channel.viewers += 10;
  updateViewersCount();
}

// ============================================
// ØªØ¬Ø±Ø¨Ø© Ø³ÙŠØ±ÙØ± Ø¢Ø®Ø±
// ============================================
function tryAnotherServer() {
  if (!currentChannel) return;
  
  // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
  const currentIndex = currentChannel.servers.findIndex(s => s.id === currentServer.id);
  
  // ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„ØªØ§Ù„ÙŠ
  const nextIndex = (currentIndex + 1) % currentChannel.servers.length;
  const nextServer = currentChannel.servers[nextIndex];
  
  // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯
  playStream(currentChannel.id, nextServer.id);
}

// ============================================
// Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
// ============================================
function closeVideo() {
  const videoOverlay = document.getElementById('video-overlay');
  const videoElement = document.getElementById('video-element');
  
  // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  videoElement.pause();
  videoElement.src = '';
  
  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø©
  videoOverlay.style.display = 'none';
  
  // Ø¥Ø²Ø§Ù„Ø© Ø­Ø§Ù„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ù† Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  document.querySelectorAll('.server-btn').forEach(btn => {
    btn.classList.remove('playing');
  });
  
  // ØªÙ‚Ù„ÙŠÙ„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ† Ù‚Ù„ÙŠÙ„Ø§Ù‹
  if (currentChannel) {
    currentChannel.viewers = Math.max(100, currentChannel.viewers - 5);
    updateViewersCount();
  }
}

// ============================================
// Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©
// ============================================
function toggleFullscreen() {
  const videoContainer = document.querySelector('.video-player');
  
  if (!document.fullscreenElement) {
    if (videoContainer.requestFullscreen) {
      videoContainer.requestFullscreen();
    } else if (videoContainer.webkitRequestFullscreen) {
      videoContainer.webkitRequestFullscreen();
    } else if (videoContainer.msRequestFullscreen) {
      videoContainer.msRequestFullscreen();
    }
  } else {
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    } else if (document.msExitFullscreen) {
      document.msExitFullscreen();
    }
  }
}

// ============================================
// ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ†
// ============================================
function updateViewersCount() {
  const total = channelsDatabase.reduce((sum, channel) => sum + channel.viewers, 0);
  document.getElementById('current-viewers').textContent = total.toLocaleString();
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
  channelsDatabase.forEach(channel => {
    const viewersElement = document.querySelector(`[data-channel-id="${channel.id}"] .fa-eye`);
    if (viewersElement) {
      viewersElement.parentElement.textContent = ` ${channel.viewers.toLocaleString()}`;
    }
  });
}

// ============================================
// Ø§Ù„Ø¨Ø­Ø«
// ============================================
document.getElementById('search-input').addEventListener('input', function(e) {
  const searchTerm = e.target.value.toLowerCase().trim();
  
  if (!searchTerm) {
    renderChannels(channelsDatabase);
    return;
  }
  
  const filtered = channelsDatabase.filter(channel => 
    channel.name.toLowerCase().includes(searchTerm) ||
    channel.group.toLowerCase().includes(searchTerm) ||
    channel.category.toLowerCase().includes(searchTerm)
  );
  
  renderChannels(filtered);
});

// ============================================
// Ù…Ø­Ø§ÙƒØ§Ø© ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ†
// ============================================
function simulateViewersChange() {
  channelsDatabase.forEach(channel => {
    // ØªØºÙŠÙŠØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠ ØµØºÙŠØ±
    const change = Math.floor(Math.random() * 20) - 10;
    channel.viewers = Math.max(100, channel.viewers + change);
  });
  
  updateViewersCount();
}

// ============================================
// Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
// ============================================
document.addEventListener('DOMContentLoaded', function() {
  // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª
  renderChannels(channelsDatabase);
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ† ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
  setInterval(simulateViewersChange, 30000);
  
  // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¨Ù€ ESC
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && document.getElementById('video-overlay').style.display === 'block') {
      closeVideo();
    }
  });
  
  // Ø¥ØºÙ„Ø§Ù‚ Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
  document.addEventListener('click', function(e) {
    if (!e.target.closest('.channel-card') && !e.target.closest('.servers-container')) {
      document.querySelectorAll('.servers-container').forEach(container => {
        container.classList.remove('show');
      });
    }
  });
});
</script>
</body>
</html>
