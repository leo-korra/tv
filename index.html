<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ“º Leo TV - Ù…Ù†ØµØ© IPTV Ù…ØªØ·ÙˆØ±Ø©</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root {
  --primary: #2563eb;
  --primary-dark: #1d4ed8;
  --secondary: #7c3aed;
  --accent: #ec4899;
  --success: #10b981;
  --warning: #f59e0b;
  --danger: #ef4444;
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.12);
  --blur: blur(15px);
  --sidebar-width: 280px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Cairo', sans-serif;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  padding: 15px;
  min-height: 100vh;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 80%, rgba(37, 99, 235, 0.2) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(124, 58, 237, 0.2) 0%, transparent 50%);
  z-index: -1;
}

.glass-panel {
  background: var(--glass-bg);
  backdrop-filter: var(--blur);
  -webkit-backdrop-filter: var(--blur);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

.app-container {
  display: grid;
  grid-template-columns: var(--sidebar-width) 1fr;
  gap: 15px;
}

/* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
.sidebar {
  display: flex;
  flex-direction: column;
  gap: 15px;
  height: calc(100vh - 30px);
  position: sticky;
  top: 15px;
}

.sidebar-section {
  padding: 20px;
  flex-shrink: 0;
}

.user-profile {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  margin-bottom: 15px;
}

.user-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.2rem;
  font-weight: 700;
}

.user-info h3 {
  color: white;
  font-size: 1rem;
  margin-bottom: 5px;
}

.user-status {
  font-size: 0.75rem;
  padding: 3px 10px;
  border-radius: 12px;
  background: rgba(16, 185, 129, 0.2);
  color: var(--success);
  display: inline-block;
}

.plan-indicator {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 10px;
}

.plan-title {
  color: white;
  font-weight: 600;
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.plan-title .badge {
  background: var(--accent);
  padding: 3px 8px;
  border-radius: 6px;
  font-size: 0.7rem;
}

.plan-progress {
  height: 6px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
  overflow: hidden;
  margin-bottom: 8px;
}

.plan-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  border-radius: 3px;
  width: 65%;
}

.plan-stats {
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: space-between;
}

.sidebar-menu {
  list-style: none;
  flex-grow: 1;
}

.sidebar-menu li {
  margin-bottom: 8px;
}

.sidebar-menu a {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 15px;
  color: rgba(255, 255, 255, 0.8);
  text-decoration: none;
  border-radius: 12px;
  transition: all 0.3s ease;
}

.sidebar-menu a:hover {
  background: rgba(255, 255, 255, 0.1);
  color: white;
}

.sidebar-menu a.active {
  background: var(--primary);
  color: white;
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

.sidebar-menu a i {
  width: 20px;
  text-align: center;
}

.sidebar-footer {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
  padding-top: 15px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
.main-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.header {
  text-align: center;
  padding: 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.header-left {
  text-align: right;
}

.header h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  margin-bottom: 8px;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.subtitle {
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
}

.header-stats {
  display: flex;
  gap: 15px;
}

.stat-box {
  background: rgba(255, 255, 255, 0.05);
  padding: 12px 20px;
  border-radius: 12px;
  text-align: center;
  min-width: 100px;
}

.stat-value {
  color: white;
  font-weight: 700;
  font-size: 1.5rem;
  margin-bottom: 5px;
}

.stat-label {
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.6);
}

.search-section {
  padding: 15px;
  display: flex;
  gap: 10px;
}

.search-box {
  flex: 1;
  padding: 14px 20px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  font-family: 'Cairo', sans-serif;
  font-size: 15px;
  color: white;
  outline: none;
  transition: all 0.3s ease;
}

.search-box::placeholder {
  color: rgba(255, 255, 255, 0.6);
}

.search-box:focus {
  background: rgba(255, 255, 255, 0.15);
  border: 2px solid var(--primary);
  box-shadow: 0 0 15px rgba(37, 99, 235, 0.3);
}

.filter-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 15px;
  justify-content: center;
}

.filter-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: rgba(255, 255, 255, 0.9);
  padding: 10px 20px;
  border-radius: 12px;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-weight: 600;
  font-size: 0.85rem;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.filter-btn:hover {
  background: rgba(255, 255, 255, 0.15);
}

.filter-btn.active {
  background: var(--primary);
  border-color: transparent;
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

.filter-btn.premium {
  position: relative;
  overflow: hidden;
}

.filter-btn.premium::after {
  content: "PREMIUM";
  position: absolute;
  top: -8px;
  left: -25px;
  background: var(--accent);
  color: white;
  font-size: 0.6rem;
  padding: 2px 20px;
  transform: rotate(-45deg);
}

.channels-section {
  padding: 15px;
  flex-grow: 1;
}

.channels-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 15px;
}

.channel-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  padding: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  min-height: 140px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.channel-card:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.channel-card.focused {
  background: rgba(37, 99, 235, 0.15);
  border: 2px solid var(--primary);
  transform: scale(1.02);
  box-shadow: 0 0 20px rgba(37, 99, 235, 0.4);
}

.channel-card.premium {
  border-left: 4px solid var(--accent);
}

.channel-logo {
  width: 55px;
  height: 55px;
  object-fit: contain;
  border-radius: 10px;
  margin-bottom: 10px;
  background: rgba(255, 255, 255, 0.1);
  padding: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.channel-name {
  font-weight: 700;
  color: white;
  font-size: 0.95rem;
  text-align: center;
  margin-bottom: 5px;
}

.channel-info {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.6);
  text-align: center;
}

.quality-badge {
  position: absolute;
  top: 10px;
  left: 10px;
  background: var(--primary);
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 0.65rem;
  font-weight: 700;
}

.live-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  background: var(--accent);
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 0.65rem;
  font-weight: 700;
}

.fav-btn {
  position: absolute;
  bottom: 10px;
  left: 10px;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  color: rgba(255, 255, 255, 0.7);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  z-index: 2;
}

.fav-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

.fav-btn.active {
  background: var(--accent);
  color: white;
}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
.quality-selector {
  margin-top: 15px;
  width: 100%;
  display: flex;
  gap: 8px;
  justify-content: center;
}

.quality-btn {
  flex: 1;
  padding: 8px 5px;
  background: rgba(255, 255, 255, 0.07);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.9);
  font-family: 'Cairo', sans-serif;
  font-weight: 600;
  font-size: 0.8rem;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
}

.quality-btn:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: translateY(-2px);
}

.quality-btn.active {
  background: var(--primary);
  border-color: transparent;
  color: white;
  box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);
}

.quality-btn.SD.active {
  background: #10b981;
}

.quality-btn.HD.active {
  background: var(--primary);
}

.quality-btn.FHD.active {
  background: var(--secondary);
}

.group-header {
  grid-column: 1 / -1;
  font-size: 1.3rem;
  font-weight: 700;
  margin: 25px 0 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
}

.group-header i {
  margin-left: 10px;
  color: var(--primary);
}

.loading {
  text-align: center;
  padding: 40px 20px;
  color: white;
  grid-column: 1 / -1;
}

.spinner {
  width: 30px;
  height: 30px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top: 3px solid white;
  border-radius: 50%;
  margin: 0 auto 15px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.no-results {
  text-align: center;
  padding: 30px;
  color: rgba(255, 255, 255, 0.6);
  grid-column: 1 / -1;
}

/* Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
.video-player-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  z-index: 9999;
  display: none;
  align-items: center;
  justify-content: center;
}

.video-player-container {
  width: 90%;
  max-width: 1000px;
  background: #0f172a;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
}

.video-header {
  padding: 15px 20px;
  background: rgba(255, 255, 255, 0.05);
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.video-header h3 {
  color: white;
  font-size: 1.2rem;
}

.close-player {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.close-player:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: rotate(90deg);
}

.video-wrapper {
  position: relative;
  width: 100%;
  padding-bottom: 56.25%; /* Ù†Ø³Ø¨Ø© 16:9 */
  background: #000;
}

#video-player {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.video-controls {
  padding: 15px 20px;
  background: rgba(255, 255, 255, 0.05);
  display: flex;
  gap: 15px;
  align-items: center;
  justify-content: center;
}

.video-controls button {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.video-controls button:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}

.video-controls .play-btn {
  background: var(--primary);
}

.video-controls .play-btn:hover {
  background: var(--primary-dark);
}

.video-info {
  padding: 15px 20px;
  background: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.remote-controls {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: none;
  gap: 10px;
  background: rgba(0, 0, 0, 0.7);
  padding: 15px;
  border-radius: 20px;
  backdrop-filter: blur(10px);
  z-index: 1000;
}

.remote-btn {
  width: 50px;
  height: 50px;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  border-radius: 12px;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.remote-btn:active {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(0.95);
}

/* Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ Ø³Ø±ÙŠØ¹Ø© */
.quick-notice {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(15, 23, 42, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 12px 24px;
  color: white;
  font-weight: 600;
  backdrop-filter: blur(10px);
  z-index: 1001;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
  text-align: center;
  max-width: 90%;
}

.quick-notice.show {
  opacity: 1;
  visibility: visible;
}

/* ØªØ®ØµÙŠØµ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ */
@media (max-width: 1200px) {
  .app-container {
    grid-template-columns: 1fr;
  }
  
  .sidebar {
    display: none;
  }
  
  .channels-grid {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
}

@media (max-width: 768px) {
  .channels-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
  
  .header {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }
  
  .header-stats {
    width: 100%;
    justify-content: center;
  }
  
  .stat-box {
    min-width: 80px;
    padding: 10px 15px;
  }
}

@media (max-width: 480px) {
  .channels-grid {
    grid-template-columns: 1fr;
  }
  
  .header h1 {
    font-size: 1.8rem;
  }
  
  .quality-selector {
    flex-direction: column;
  }
  
  .filter-buttons {
    overflow-x: auto;
    padding-bottom: 10px;
    justify-content: flex-start;
  }
}

@media (min-width: 1024px) {
  .remote-controls {
    display: flex;
  }
}
</style>
</head>

<body>

<div class="video-player-overlay" id="video-player-overlay">
  <div class="video-player-container">
    <div class="video-header">
      <h3 id="video-title">Leo TV Player</h3>
      <button class="close-player" onclick="closeVideoPlayer()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="video-wrapper">
      <video id="video-player" controls autoplay>
        <source id="video-source" src="" type="application/x-mpegURL">
        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
      </video>
    </div>
    
    <div class="video-controls">
      <button onclick="videoControl('volume-up')">
        <i class="fas fa-volume-up"></i>
      </button>
      <button onclick="videoControl('rewind')">
        <i class="fas fa-backward"></i>
      </button>
      <button class="play-btn" onclick="videoControl('play-pause')">
        <i class="fas fa-pause" id="play-pause-icon"></i>
      </button>
      <button onclick="videoControl('forward')">
        <i class="fas fa-forward"></i>
      </button>
      <button onclick="videoControl('fullscreen')">
        <i class="fas fa-expand"></i>
      </button>
    </div>
    
    <div class="video-info">
      <p id="video-info-text">Ø¬ÙˆØ¯Ø©: HD | Ø­Ø§Ù„Ø©: Ø¬ÙŠØ¯Ø©</p>
    </div>
  </div>
</div>

<div class="app-container">
  <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
  <aside class="sidebar">
    <div class="sidebar-section glass-panel">
      <div class="user-profile">
        <div class="user-avatar">L</div>
        <div class="user-info">
          <h3>Ù…Ø³ØªØ®Ø¯Ù… Leo TV</h3>
          <span class="user-status">Ù†Ø´Ø·</span>
        </div>
      </div>
      
      <div class="plan-indicator">
        <div class="plan-title">
          <span>Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</span>
          <span class="badge">Premium</span>
        </div>
        <div class="plan-progress">
          <div class="plan-progress-fill" id="plan-progress"></div>
        </div>
        <div class="plan-stats">
          <span>123 Ù‚Ù†Ø§Ø© Ù†Ø´Ø·Ø©</span>
          <span>65% Ù…Ø³ØªØ®Ø¯Ù…</span>
        </div>
      </div>
    </div>
    
    <div class="sidebar-section glass-panel">
      <ul class="sidebar-menu">
        <li><a href="#" class="active"><i class="fas fa-tv"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ù†ÙˆØ§Øª</a></li>
        <li><a href="#" onclick="showFavorites()"><i class="fas fa-heart"></i> Ø§Ù„Ù…ÙØ¶Ù„Ø© <span id="fav-count" class="badge">0</span></a></li>
        <li><a href="#"><i class="fas fa-futbol"></i> Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©</a></li>
        <li><a href="#"><i class="fas fa-film"></i> Ø§Ù„Ø£ÙÙ„Ø§Ù… ÙˆØ§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</a></li>
        <li><a href="#"><i class="fas fa-newspaper"></i> Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a></li>
        <li><a href="#"><i class="fas fa-child"></i> Ø§Ù„Ø£Ø·ÙØ§Ù„</a></li>
        <li><a href="#"><i class="fas fa-music"></i> Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰</a></li>
        <li><a href="#"><i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
      </ul>
      
      <div class="sidebar-footer">
        Leo TV &copy; 2023 - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
      </div>
    </div>
  </aside>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <main class="main-content">
    <header class="header glass-panel">
      <div class="header-left">
        <h1>Leo TV</h1>
        <div class="subtitle">Ù…Ù†ØµØ© IPTV Ù…ØªØ·ÙˆØ±Ø© - Ø´Ø§Ù‡Ø¯ Ù‚Ù†ÙˆØ§ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©</div>
      </div>
      
      <div class="header-stats">
        <div class="stat-box glass-panel">
          <div class="stat-value" id="total-channels">0</div>
          <div class="stat-label">Ù‚Ù†Ø§Ø©</div>
        </div>
        <div class="stat-box glass-panel">
          <div class="stat-value" id="live-channels">0</div>
          <div class="stat-label">Ù…Ø¨Ø§Ø´Ø±</div>
        </div>
        <div class="stat-box glass-panel">
          <div class="stat-value" id="fav-channels">0</div>
          <div class="stat-label">Ù…ÙØ¶Ù„Ø©</div>
        </div>
      </div>
    </header>

    <section class="search-section glass-panel">
      <input type="text" id="search-input" class="search-box" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ù†Ø§Ø©...">
      <button class="filter-btn" onclick="showAdvancedFilters()">
        <i class="fas fa-filter"></i> ÙÙ„ØªØ± Ù…ØªÙ‚Ø¯Ù…
      </button>
    </section>

    <div class="filter-buttons" id="filter-buttons">
      <button class="filter-btn active" data-filter="all">
        <i class="fas fa-list"></i> Ø§Ù„ÙƒÙ„
      </button>
      <button class="filter-btn" data-filter="Ø±ÙŠØ§Ø¶ÙŠ">
        <i class="fas fa-futbol"></i> Ø±ÙŠØ§Ø¶ÙŠØ©
      </button>
      <button class="filter-btn" data-filter="ØªØ±ÙÙŠÙ‡ÙŠ">
        <i class="fas fa-film"></i> ØªØ±ÙÙŠÙ‡ÙŠØ©
      </button>
      <button class="filter-btn" data-filter="Ø£Ø®Ø¨Ø§Ø±">
        <i class="fas fa-newspaper"></i> Ø£Ø®Ø¨Ø§Ø±
      </button>
      <button class="filter-btn premium" data-filter="premium">
        <i class="fas fa-crown"></i> Premium
      </button>
      <button class="filter-btn" onclick="showFavorites()">
        <i class="fas fa-heart"></i> Ø§Ù„Ù…ÙØ¶Ù„Ø©
      </button>
    </div>

    <section class="channels-section glass-panel">
      <div class="channels-grid" id="channels">
        <!-- Ø§Ù„Ù‚Ù†ÙˆØ§Øª ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù‡Ù†Ø§ -->
      </div>
      
      <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
        Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ù†ÙˆØ§Øª...
      </div>
      
      <div id="no-results" class="no-results" style="display: none;">
        <i class="fas fa-tv" style="font-size: 2rem; margin-bottom: 10px;"></i>
        <p>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‚Ù†ÙˆØ§Øª ØªØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ</p>
      </div>
    </section>

    <div class="remote-controls">
      <button class="remote-btn" onclick="navigateRemote('up')">â¬†ï¸</button>
      <div style="display: flex; flex-direction: column; gap: 5px;">
        <button class="remote-btn" onclick="navigateRemote('left')">â¬…ï¸</button>
        <button class="remote-btn" onclick="activateCurrent()">âºï¸</button>
        <button class="remote-btn" onclick="navigateRemote('right')">â¡ï¸</button>
      </div>
      <button class="remote-btn" onclick="navigateRemote('down')">â¬‡ï¸</button>
    </div>
  </main>
</div>

<!-- Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ -->
<div class="quick-notice" id="quick-notice">
  <span id="notice-text">Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ù‚Ù†Ø§Ø©...</span>
</div>

<script>
// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ù…Ø¹ Ø±ÙˆØ§Ù‚Ø¹ m3u8
const channelsData = [
  // beIN Sports Ø§Ù„Ù‚Ù†ÙˆØ§Øª
  {
    name: "beIN SPORT 1",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein1/bein1-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein1/bein1-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein1/bein1-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 2",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein2/bein2-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein2/bein2-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein2/bein2-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 3",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein3/bein3-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein3/bein3-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein3/bein3-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 4",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein4/bein4-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein4/bein4-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein4/bein4-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 5",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein5/bein5-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein5/bein5-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein5/bein5-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 6",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein6/bein6-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein6/bein6-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein6/bein6-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 7",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein7/bein7-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein7/bein7-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein7/bein7-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 8",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein8/bein8-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein8/bein8-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein8/bein8-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 9",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein9/bein9-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein9/bein9-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein9/bein9-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 10",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein10/bein10-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein10/bein10-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein10/bein10-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "beIN SPORT 11",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Bein_Sports_1_logo.svg/1200px-Bein_Sports_1_logo.svg.png",
    group: "beIN Sports",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein11/bein11-360p.m3u8",
      "HD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein11/bein11-720p.m3u8",
      "FHD": "https://cdn-df-ios.sportdigital.tv/stream/hls/bein11/bein11-1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  
  // Ù‚Ù†ÙˆØ§Øª Ø§Ù„ÙˆØ§Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©
  {
    name: "Ø§Ù„ÙˆØ§Ù† Ø±ÙŠØ§Ø¶ÙŠØ© 1",
    logo: "https://www.alawwanalarabiya.com/images/logo.png",
    group: "Ø§Ù„ÙˆØ§Ù† Ø±ÙŠØ§Ø¶ÙŠØ©",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "basic",
    qualities: {
      "SD": "https://stream.alawwanalarabiya.com/hls/alawwan1_360p.m3u8",
      "HD": "https://stream.alawwanalarabiya.com/hls/alawwan1_720p.m3u8",
      "FHD": "https://stream.alawwanalarabiya.com/hls/alawwan1_1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø§Ù„ÙˆØ§Ù† Ø±ÙŠØ§Ø¶ÙŠØ© 2",
    logo: "https://www.alawwanalarabiya.com/images/logo.png",
    group: "Ø§Ù„ÙˆØ§Ù† Ø±ÙŠØ§Ø¶ÙŠØ©",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "basic",
    qualities: {
      "SD": "https://stream.alawwanalarabiya.com/hls/alawwan2_360p.m3u8",
      "HD": "https://stream.alawwanalarabiya.com/hls/alawwan2_720p.m3u8",
      "FHD": "https://stream.alawwanalarabiya.com/hls/alawwan2_1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø§Ù„ÙˆØ§Ù† Ø±ÙŠØ§Ø¶ÙŠØ© 3",
    logo: "https://www.alawwanalarabiya.com/images/logo.png",
    group: "Ø§Ù„ÙˆØ§Ù† Ø±ÙŠØ§Ø¶ÙŠØ©",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "basic",
    qualities: {
      "SD": "https://stream.alawwanalarabiya.com/hls/alawwan3_360p.m3u8",
      "HD": "https://stream.alawwanalarabiya.com/hls/alawwan3_720p.m3u8",
      "FHD": "https://stream.alawwanalarabiya.com/hls/alawwan3_1080p.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  
  // Ù‚Ù†ÙˆØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©
  {
    name: "Ù‚Ù†Ø§Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Al_Arabiya_Logo_2016.svg/1200px-Al_Arabiya_Logo_2016.svg.png",
    group: "Ø£Ø®Ø¨Ø§Ø±",
    category: "Ø£Ø®Ø¨Ø§Ø±",
    plan: "basic",
    qualities: {
      "SD": "https://live.alarabiya.net/alarabiapublish/alarabiya.smil/playlist.m3u8",
      "HD": "https://live.alarabiya.net/alarabiapublish/alarabiya.smil/playlist.m3u8",
      "FHD": "https://live.alarabiya.net/alarabiapublish/alarabiya.smil/playlist.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "MBC 1",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/MBC_1_logo_%282021%29.png/800px-MBC_1_logo_%282021%29.png",
    group: "ØªØ±ÙÙŠÙ‡",
    category: "ØªØ±ÙÙŠÙ‡ÙŠ",
    plan: "basic",
    qualities: {
      "SD": "https://shls-mbc1-prod-dub.shahid.net/out/v1/73d3e1d29d2f4ed7a2f6b8a9f8f8f8f8/index.m3u8",
      "HD": "https://shls-mbc1-prod-dub.shahid.net/out/v1/73d3e1d29d2f4ed7a2f6b8a9f8f8f8f8/index_2.m3u8",
      "FHD": "https://shls-mbc1-prod-dub.shahid.net/out/v1/73d3e1d29d2f4ed7a2f6b8a9f8f8f8f8/index_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø±ÙˆØªØ§Ù†Ø§ Ø®Ù„ÙŠØ¬ÙŠØ©",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Rotana_Khalijia_Logo.png/800px-Rotana_Khalijia_Logo.png",
    group: "ØªØ±ÙÙŠÙ‡",
    category: "ØªØ±ÙÙŠÙ‡ÙŠ",
    plan: "basic",
    qualities: {
      "SD": "https://rotana-gulf.rotana.net/rotana-gulf/rotana-gulf_1.m3u8",
      "HD": "https://rotana-gulf.rotana.net/rotana-gulf/rotana-gulf_2.m3u8",
      "FHD": "https://rotana-gulf.rotana.net/rotana-gulf/rotana-gulf_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø§Ù„ÙƒØ£Ø³",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Alkass_logo.png/800px-Alkass_logo.png",
    group: "Ø±ÙŠØ§Ø¶Ø©",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "http://185.226.172.11:8080/mo3ad1.m3u8",
      "HD": "http://185.226.172.11:8080/mo3ad1.m3u8",
      "FHD": "http://185.226.172.11:8080/mo3ad1.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "CNN Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/CNN_Arabic_2017_logo.svg/1200px-CNN_Arabic_2017_logo.svg.png",
    group: "Ø£Ø®Ø¨Ø§Ø±",
    category: "Ø£Ø®Ø¨Ø§Ø±",
    plan: "basic",
    qualities: {
      "SD": "https://cnn-cnninternational-1-gb.samsung.wurl.com/manifest/playlist.m3u8",
      "HD": "https://cnn-cnninternational-1-gb.samsung.wurl.com/manifest/playlist_2.m3u8",
      "FHD": "https://cnn-cnninternational-1-gb.samsung.wurl.com/manifest/playlist_4.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ù‚Ù†Ø§Ø© Ù†Ø§Ø´ÙŠÙˆÙ†Ø§Ù„ Ø¬ÙŠÙˆØºØ±Ø§ÙÙŠÙƒ Ø£Ø¨ÙˆØ¸Ø¨ÙŠ",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/National_Geographic_Abu_Dhabi_logo.svg/1200px-National_Geographic_Abu_Dhabi_logo.svg.png",
    group: "ÙˆØ«Ø§Ø¦Ù‚ÙŠØ©",
    category: "ØªØ±ÙÙŠÙ‡ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://admdn1.cdn.mangomolo.com/natgeoabu/smil:natgeoabu.stream.smil/playlist.m3u8",
      "HD": "https://admdn1.cdn.mangomolo.com/natgeoabu/smil:natgeoabu.stream.smil/chunklist_b2500000.m3u8",
      "FHD": "https://admdn1.cdn.mangomolo.com/natgeoabu/smil:natgeoabu.stream.smil/chunklist_b3500000.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  },
  {
    name: "Ø£Ø¨ÙˆØ¸Ø¨ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© 1",
    logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/AD_Sports_1_logo.svg/1200px-AD_Sports_1_logo.svg.png",
    group: "Ø±ÙŠØ§Ø¶ÙŠØ©",
    category: "Ø±ÙŠØ§Ø¶ÙŠ",
    plan: "premium",
    qualities: {
      "SD": "https://admdn5.cdn.mangomolo.com/adsports1/smil:adsports1.stream.smil/playlist.m3u8",
      "HD": "https://admdn5.cdn.mangomolo.com/adsports1/smil:adsports1.stream.smil/chunklist_b2500000.m3u8",
      "FHD": "https://admdn5.cdn.mangomolo.com/adsports1/smil:adsports1.stream.smil/chunklist_b3500000.m3u8"
    },
    server: "Leo Servers",
    status: "Ù…Ø¨Ø§Ø´Ø±"
  }
];

// Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
let allChannels = [];
let filteredChannels = [];
let currentFilter = "all";
let currentFocusIndex = 0;
let channelCards = [];
let filterButtons = [];
let selectedQualities = {};
let favorites = JSON.parse(localStorage.getItem('leo-tv-favorites')) || [];
let currentVideoPlayer = null;
let isPlaying = false;

// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
function initApp() {
  allChannels = channelsData;
  filteredChannels = [...allChannels];
  
  // ØªØ¹ÙŠÙŠÙ† Ø¬ÙˆØ¯Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„ÙƒÙ„ Ù‚Ù†Ø§Ø© (HD)
  allChannels.forEach(channel => {
    selectedQualities[channel.name] = "HD";
  });
  
  updateStats();
  displayChannels(allChannels);
  setupEventListeners();
  setupRemoteNavigation();
  
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù…Ù† localStorage
  updateFavoritesCount();
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
function updateStats() {
  document.getElementById('total-channels').textContent = allChannels.length;
  document.getElementById('live-channels').textContent = allChannels.filter(ch => ch.status === 'Ù…Ø¨Ø§Ø´Ø±').length;
  document.getElementById('fav-channels').textContent = favorites.length;
  
  // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
  const progress = document.getElementById('plan-progress');
  const used = Math.min(favorites.length, 20); // Ø­Ø¯ Ø£Ù‚ØµÙ‰ 20 Ù‚Ù†Ø§Ø© Ù…ÙØ¶Ù„Ø©
  const percentage = (used / 20) * 100;
  progress.style.width = `${percentage}%`;
}

// ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙØ¶Ù„Ø©
function updateFavoritesCount() {
  document.getElementById('fav-count').textContent = favorites.length;
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª
function displayChannels(channels) {
  const grid = document.getElementById("channels");
  
  if (channels.length === 0) {
    document.getElementById("no-results").style.display = "block";
    grid.innerHTML = "";
    return;
  }
  
  document.getElementById("no-results").style.display = "none";
  
  const groupedChannels = {};
  channels.forEach(ch => {
    if (!groupedChannels[ch.group]) {
      groupedChannels[ch.group] = [];
    }
    groupedChannels[ch.group].push(ch);
  });
  
  let html = "";
  
  for (const group in groupedChannels) {
    html += `<div class="group-header"><i class="fas fa-tv"></i> ${group}</div>`;
    
    groupedChannels[group].forEach(ch => {
      const selectedQuality = selectedQualities[ch.name] || "HD";
      const isFavorite = favorites.includes(ch.name);
      const premiumClass = ch.plan === 'premium' ? 'premium' : '';
      
      html += `
        <div class="channel-card ${premiumClass}" tabindex="0" data-channel="${ch.name}">
          <button class="fav-btn ${isFavorite ? 'active' : ''}" onclick="event.stopPropagation(); toggleFavorite('${ch.name}')">
            <i class="fas fa-heart"></i>
          </button>
          <img src="${ch.logo}" alt="${ch.name}" class="channel-logo" onerror="this.onerror=null; this.src='https://via.placeholder.com/55x55/1e293b/ffffff?text=${ch.name.substring(0,2)}';">
          <div class="quality-badge">${selectedQuality}</div>
          <div class="live-badge">${ch.status}</div>
          <div class="channel-name">${ch.name}</div>
          <div class="channel-info">${ch.server} | ${ch.plan === 'premium' ? 'Premium' : 'Basic'}</div>
          
          <div class="quality-selector">
            <button class="quality-btn SD ${selectedQuality === 'SD' ? 'active' : ''}" 
                    onclick="event.stopPropagation(); selectQuality('${ch.name}', 'SD')">
              SD
            </button>
            <button class="quality-btn HD ${selectedQuality === 'HD' ? 'active' : ''}" 
                    onclick="event.stopPropagation(); selectQuality('${ch.name}', 'HD')">
              HD
            </button>
            <button class="quality-btn FHD ${selectedQuality === 'FHD' ? 'active' : ''}" 
                    onclick="event.stopPropagation(); selectQuality('${ch.name}', 'FHD')">
              FHD
            </button>
          </div>
        </div>
      `;
    });
  }
  
  grid.innerHTML = html;
  
  // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù†Ù‚Ø± Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª (Ù„Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©)
  document.querySelectorAll('.channel-card').forEach(card => {
    card.addEventListener('click', function(e) {
      // ÙÙ‚Ø· Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¬ÙˆØ¯Ø© Ø£Ùˆ Ø²Ø± Ø§Ù„Ù…ÙØ¶Ù„Ø©
      if (!e.target.classList.contains('quality-btn') && 
          !e.target.closest('.quality-btn') &&
          !e.target.classList.contains('fav-btn') &&
          !e.target.closest('.fav-btn')) {
        const channelName = this.dataset.channel;
        const quality = selectedQualities[channelName] || "HD";
        playChannel(channelName, quality);
      }
    });
  });
  
  setupRemoteNavigation();
}

// Ø¥Ø¶Ø§ÙØ©/Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©
function toggleFavorite(channelName) {
  const index = favorites.indexOf(channelName);
  
  if (index === -1) {
    favorites.push(channelName);
    showNotice(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${channelName} Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙØ¶Ù„Ø©`);
  } else {
    favorites.splice(index, 1);
    showNotice(`ØªÙ… Ø¥Ø²Ø§Ù„Ø© ${channelName} Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©`);
  }
  
  localStorage.setItem('leo-tv-favorites', JSON.stringify(favorites));
  updateFavoritesCount();
  updateStats();
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø²Ø± ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
  const favBtn = document.querySelector(`[data-channel="${channelName}"] .fav-btn`);
  if (favBtn) {
    favBtn.classList.toggle('active');
  }
  
  // Ø¥Ø°Ø§ ÙƒÙ†Ø§ ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙØ¶Ù„Ø©ØŒ Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
  if (currentFilter === 'favorites') {
    filterChannels('favorites');
  }
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø©
function showFavorites() {
  if (favorites.length === 0) {
    showNotice('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ù†ÙˆØ§Øª ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©');
    filterChannels('all');
    return;
  }
  
  currentFilter = 'favorites';
  filterButtons.forEach(btn => {
    btn.classList.remove('active');
    if (btn.textContent.includes('Ø§Ù„Ù…ÙØ¶Ù„Ø©')) {
      btn.classList.add('active');
    }
  });
  
  const favChannels = allChannels.filter(ch => favorites.includes(ch.name));
  displayChannels(favChannels);
  showNotice(`Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø© (${favorites.length})`);
}

// Ø§Ø®ØªÙŠØ§Ø± Ø¬ÙˆØ¯Ø© Ù…Ø¹ÙŠÙ†Ø©
function selectQuality(channelName, quality) {
  selectedQualities[channelName] = quality;
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
  const card = document.querySelector(`[data-channel="${channelName}"]`);
  if (card) {
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø§Ø¯Ø¬
    const badge = card.querySelector('.quality-badge');
    if (badge) badge.textContent = quality;
    
    // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬ÙˆØ¯Ø©
    const buttons = card.querySelectorAll('.quality-btn');
    buttons.forEach(btn => {
      btn.classList.remove('active');
      if (btn.textContent.trim() === quality) {
        btn.classList.add('active');
      }
    });
  }
  
  showNotice(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¬ÙˆØ¯Ø© ${quality} Ù„Ù€ ${channelName}`);
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ù†Ø§Ø© ÙÙŠ Ù…Ø´ØºÙ„ Ù…Ø¯Ù…Ø¬
function playChannel(channelName, quality) {
  const channel = allChannels.find(ch => ch.name === channelName);
  
  if (!channel) {
    showNotice(`Ø§Ù„Ù‚Ù†Ø§Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©: ${channelName}`);
    return;
  }
  
  const url = channel.qualities[quality];
  
  if (url && url.startsWith('http')) {
    showNotice(`Ø¬Ø§Ø±ÙŠ ÙØªØ­ ${channelName} Ø¨Ø¬ÙˆØ¯Ø© ${quality}...`);
    
    // ÙØªØ­ Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
    openVideoPlayer(channelName, url, quality);
    
  } else {
    showNotice(`Ø±Ø§Ø¨Ø· Ø§Ù„Ø¨Ø« ØºÙŠØ± Ù…ØªØ§Ø­ Ù„Ù€ ${channelName}`);
  }
}

// ÙØªØ­ Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ù…Ø¯Ù…Ø¬
function openVideoPlayer(channelName, url, quality) {
  const overlay = document.getElementById('video-player-overlay');
  const video = document.getElementById('video-player');
  const source = document.getElementById('video-source');
  const title = document.getElementById('video-title');
  const info = document.getElementById('video-info-text');
  
  title.textContent = channelName;
  info.textContent = `Ø¬ÙˆØ¯Ø©: ${quality} | Ø­Ø§Ù„Ø©: Ø¬ÙŠØ¯Ø©`;
  source.src = url;
  
  video.load();
  
  overlay.style.display = 'flex';
  currentVideoPlayer = video;
  
  // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
  video.play().then(() => {
    isPlaying = true;
    document.getElementById('play-pause-icon').className = 'fas fa-pause';
  }).catch(e => {
    console.log("Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙØ´Ù„:", e);
    showNotice('Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„');
  });
  
  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­ÙƒÙ… Ø¹Ù† Ø¨Ø¹Ø¯ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù…Ø´ØºÙ„
  document.querySelector('.remote-controls').style.display = 'none';
}

// Ø¥ØºÙ„Ø§Ù‚ Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
function closeVideoPlayer() {
  const overlay = document.getElementById('video-player-overlay');
  const video = document.getElementById('video-player');
  
  if (video && !video.paused) {
    video.pause();
  }
  
  overlay.style.display = 'none';
  isPlaying = false;
  
  // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¹Ù† Ø¨Ø¹Ø¯ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø´Ø§Ø´Ø© ÙƒØ¨ÙŠØ±Ø©
  if (window.innerWidth >= 1024) {
    document.querySelector('.remote-controls').style.display = 'flex';
  }
}

// Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
function videoControl(action) {
  if (!currentVideoPlayer) return;
  
  const icon = document.getElementById('play-pause-icon');
  
  switch(action) {
    case 'play-pause':
      if (currentVideoPlayer.paused) {
        currentVideoPlayer.play();
        icon.className = 'fas fa-pause';
        isPlaying = true;
      } else {
        currentVideoPlayer.pause();
        icon.className = 'fas fa-play';
        isPlaying = false;
      }
      break;
      
    case 'volume-up':
      currentVideoPlayer.volume = Math.min(1, currentVideoPlayer.volume + 0.1);
      showNotice(`Ø§Ù„ØµÙˆØª: ${Math.round(currentVideoPlayer.volume * 100)}%`);
      break;
      
    case 'rewind':
      currentVideoPlayer.currentTime = Math.max(0, currentVideoPlayer.currentTime - 10);
      break;
      
    case 'forward':
      currentVideoPlayer.currentTime += 10;
      break;
      
    case 'fullscreen':
      if (currentVideoPlayer.requestFullscreen) {
        currentVideoPlayer.requestFullscreen();
      } else if (currentVideoPlayer.webkitRequestFullscreen) {
        currentVideoPlayer.webkitRequestFullscreen();
      }
      break;
  }
}

// Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø³Ø±ÙŠØ¹Ø©
function showNotice(message) {
  const notice = document.getElementById('quick-notice');
  const text = document.getElementById('notice-text');
  
  text.textContent = message;
  notice.classList.add('show');
  
  setTimeout(() => {
    notice.classList.remove('show');
  }, 2000);
}

// ØªØµÙÙŠØ© Ø§Ù„Ù‚Ù†ÙˆØ§Øª
function filterChannels(category) {
  currentFilter = category;
  
  filterButtons.forEach(btn => {
    btn.classList.remove('active');
    if (btn.dataset.filter === category) {
      btn.classList.add('active');
    }
  });
  
  if (category === "all") {
    filteredChannels = [...allChannels];
  } else if (category === "premium") {
    filteredChannels = allChannels.filter(ch => ch.plan === "premium");
  } else if (category === "favorites") {
    filteredChannels = allChannels.filter(ch => favorites.includes(ch.name));
  } else {
    filteredChannels = allChannels.filter(ch => ch.category === category);
  }
  
  // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø£ÙŠØ¶Ù‹Ø§
  applySearch();
}

// ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø«
function applySearch() {
  const searchTerm = document.getElementById('search-input').value.trim().toLowerCase();
  
  if (searchTerm === '') {
    displayChannels(filteredChannels);
  } else {
    const searchResults = filteredChannels.filter(channel => 
      channel.name.toLowerCase().includes(searchTerm) || 
      channel.group.toLowerCase().includes(searchTerm)
    );
    displayChannels(searchResults);
  }
}

// ÙÙ„ØªØ± Ù…ØªÙ‚Ø¯Ù…
function showAdvancedFilters() {
  const qualities = ['SD', 'HD', 'FHD'];
  let filterText = "Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„ÙŠ: ";
  
  if (currentFilter === 'all') {
    filterText += "Ø§Ù„ÙƒÙ„";
  } else if (currentFilter === 'premium') {
    filterText += "Premium";
  } else if (currentFilter === 'favorites') {
    filterText += "Ø§Ù„Ù…ÙØ¶Ù„Ø©";
  } else {
    filterText += currentFilter;
  }
  
  showNotice(filterText);
}

// Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨Ø§Ù„Ø£Ø²Ø±Ø§Ø±
function setupRemoteNavigation() {
  channelCards = Array.from(document.querySelectorAll('.channel-card'));
  
  if (channelCards.length === 0) return;
  
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
  channelCards.forEach(card => card.classList.remove('focused'));
  
  // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ±ÙƒÙŠØ² Ù„Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
  if (channelCards.length > 0) {
    currentFocusIndex = 0;
    channelCards[currentFocusIndex].classList.add('focused');
    channelCards[currentFocusIndex].focus();
  }
}

// Ø§Ù„ØªÙ†Ù‚Ù„ Ø¹Ù† Ø¨Ø¹Ø¯
function navigateRemote(direction) {
  if (channelCards.length === 0) return;
  
  const oldIndex = currentFocusIndex;
  let newIndex = currentFocusIndex;
  const columns = window.innerWidth >= 768 ? 2 : 1;
  
  switch(direction) {
    case 'up':
      newIndex = Math.max(0, currentFocusIndex - columns);
      break;
    case 'down':
      newIndex = Math.min(channelCards.length - 1, currentFocusIndex + columns);
      break;
    case 'left':
      newIndex = Math.max(0, currentFocusIndex - 1);
      break;
    case 'right':
      newIndex = Math.min(channelCards.length - 1, currentFocusIndex + 1);
      break;
  }
  
  if (newIndex !== oldIndex) {
    channelCards[oldIndex].classList.remove('focused');
    channelCards[newIndex].classList.add('focused');
    channelCards[newIndex].focus();
    currentFocusIndex = newIndex;
    
    // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
    channelCards[newIndex].scrollIntoView({
      behavior: 'smooth',
      block: 'center'
    });
  }
}

// ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ù†Ø§Ø©)
function activateCurrent() {
  if (channelCards.length > 0) {
    const channelName = channelCards[currentFocusIndex].dataset.channel;
    const quality = selectedQualities[channelName] || "HD";
    playChannel(channelName, quality);
  }
}

// Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
function setupEventListeners() {
  const searchInput = document.getElementById('search-input');
  
  // Ø§Ù„Ø¨Ø­Ø«
  searchInput.addEventListener('input', applySearch);
  
  // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø­Ø«
  searchInput.addEventListener('focus', () => {
    channelCards.forEach(card => card.classList.remove('focused'));
  });
  
  // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØµÙÙŠØ©
  filterButtons = Array.from(document.querySelectorAll('.filter-btn'));
  filterButtons.forEach(btn => {
    btn.addEventListener('click', function() {
      if (this.dataset.filter) {
        filterChannels(this.dataset.filter);
      }
    });
  });
  
  // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
  document.addEventListener('keydown', function(e) {
    // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…ÙØªÙˆØ­
    if (document.getElementById('video-player-overlay').style.display === 'flex') {
      if (e.key === 'Escape') {
        closeVideoPlayer();
      } else if (e.key === ' ') {
        e.preventDefault();
        videoControl('play-pause');
      }
      return;
    }
    
    if (document.activeElement === searchInput) return;
    
    switch(e.key) {
      case 'ArrowUp':
        e.preventDefault();
        navigateRemote('up');
        break;
      case 'ArrowDown':
        e.preventDefault();
        navigateRemote('down');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        navigateRemote('left');
        break;
      case 'ArrowRight':
        e.preventDefault();
        navigateRemote('right');
        break;
      case 'Enter':
        e.preventDefault();
        activateCurrent();
        break;
      case 'Escape':
        searchInput.focus();
        break;
      case 'f':
      case 'F':
        if (channelCards.length > 0) {
          const channelName = channelCards[currentFocusIndex].dataset.channel;
          toggleFavorite(channelName);
        }
        break;
    }
  });
  
  // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­ÙƒÙ… Ø¹Ù† Ø¨Ø¹Ø¯ Ø­Ø³Ø¨ Ø­Ø¬Ù… Ø§Ù„Ø´Ø§Ø´Ø©
  window.addEventListener('resize', () => {
    const remoteControls = document.querySelector('.remote-controls');
    if (window.innerWidth >= 1024 && document.getElementById('video-player-overlay').style.display !== 'flex') {
      remoteControls.style.display = 'flex';
    } else {
      remoteControls.style.display = 'none';
    }
    
    setupRemoteNavigation();
  });
  
  // Ø¥ØºÙ„Ø§Ù‚ Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
  document.getElementById('video-player-overlay').addEventListener('click', function(e) {
    if (e.target === this) {
      closeVideoPlayer();
    }
  });
}

// Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.addEventListener('DOMContentLoaded', initApp);
</script>

</body>
</html>
